<!doctype html> <head> <title>Orbit</title> <link href="style.css" rel="stylesheet" /> <style> #cheatsheet p { font-size: 10px; } </style> </head> <body class="vbox"> <div id="head" class="hbox"> <div>Load sample movie: <span id="fileContainer"><em>loading file list...</em></span></div> </div> <div id="container"> <div id="playerNode"></div> <div id="editorContainer"> <div id="editorNode"></div> <div class="button cheatsheet-button" id="cheatsheet-open">Open cheatsheet</div> <div class="button cheatsheet-button" id="cheatsheet-close">Close cheatsheet</div> <div id="cheatsheet"> <div id="cheatsheet-content"> </div> </div> </div> </div> <form class="play-pause-button"> <input type="checkbox" checked id="play-pause"> <label for="play-pause" title="play movie" class="button"></label> </form> <script src="lib/ace/ace-noconflict.js"></script> <script src="lib/marked/marked.js"></script> <script src="lib/orbit/orbit.min.js"></script> <script> // parse url query string var urlQueryString = Object.create(null); location.search.slice(1).split('&').forEach(function(pair) { pair = pair.split('='); if (pair.length === 2) { urlQueryString[pair[0]] = pair[1]; } }); var editorOptions = { elementId: 'editorNode' }; // fetch env from query-string eg ?env=iframe or ?env=worker var env = urlQueryString.env || 'worker'; var preselectedMovie = urlQueryString.movie; var bsScript = document.createElement('script'); bsScript.src = 'lib/bikeshed/bikeshed.' + (env == 'iframe' ? 'iframe.' : '') + 'min.js'; document.head.appendChild(bsScript); bsScript.onload = function() { var playerOptions = { elementId: 'playerNode', bikeshed: bikeshed, baseUrl: urlQueryString.base || 'movies/', exampleBackendOptions: { baseUrl: 'movies', preselected: preselectedMovie }, submovieLoaderUrl: 'submovie_loader.js', bikeshedOptions: { plugins: [] } }; window.editor = new Orbit(editorOptions, playerOptions); window.updateEditor = function(source){ editor.editor.load(source); } }; </script> </body> 