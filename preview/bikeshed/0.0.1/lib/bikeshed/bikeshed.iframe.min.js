/*
Copyright 2012 uxebu Inc.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to permit
persons to whom the Software is furnished to do so, subject to the
following conditions:

The above copyright notice and this permission notice shall be included
in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(){function na(a){if(!(this instanceof na))return new na(a);this.name="ParserError";this.message=a[0]}function ub(a,b,c,d,e,f){this.a=null!=a?a:1;this.b=b||0;this.c=c||0;this.d=null!=d?d:1;this.tx=e||0;this.ty=f||0}function de(){var a=this.movies=[];this.add=function(b){-1===a.indexOf(b)&&a.push(b)};this.remove=function(b){b=a.indexOf(b);delete a[b]}}function Mc(a,b){var c,d,e,f,g=[],h=!0,i=[],j=a&&a.length||0,b=b||N;if(0===j)return[];for(var k,l=0;l<j;l++){f=a[l];if(h){h=!1;g=[];d=b[f];
if("undefined"===typeof d){if("undefined"===typeof k)throw new Fa.ParserError(['Unknown command: "'+f+'"']);d=b[k];l--}else k=f;g.push(k);d=d.attributes.slice(0)}else switch(c=d.shift(),e=+f,c){case "B":if(0!=e&&1!=e)throw new Fa.ParserError(['Invalid parameter for command "'+k+'", expected 0 or 1 but got "'+f+'".']);g.push(e);break;case "N":if(isNaN(e))throw new Fa.ParserError(['Invalid parameter for command "'+k+'", expected numeric but got "'+f+'".']);g.push(e);break;case "P":if(isNaN(e))throw new Fa.ParserError(['Could not create Point from String for command "'+
k+'", expected numeric but got "'+f+'".']);f=/^move(To|By)$/.test(k);g.push(f?(e|0)+0.5+(e>>31):e);e=+a[++l];if(isNaN(e))throw new Fa.ParserError(['Could not create Point from String for command "'+k+'", expected numeric but got "'+a[l]+'".']);g.push(f?(e|0)+0.5+(e>>31):e)}0===d.length&&(h=!0,i.push(g))}return i}function V(a,b){a=V.parse(a,b);return null===a?a:new vb(a>>24&255,a>>16&255,a>>8&255,(a>>0&255)/255)}function vb(a,b,c,d){var e,f,g;e=a/255;f=b/255;g=c/255;var h,i,j,k,l=oa(e,f,g);i=ba(e,
f,g);j=(i+l)/2;if(l==i)h=i=0;else{k=l-i;i=0.5<j?k/(2-l-i):k/(l+i);switch(l){case e:h=(f-g)/k+(f<g?6:0);break;case f:h=(g-e)/k+2;break;case g:h=(e-f)/k+4}h/=6}this._properties={r:a||0,g:b||0,b:c||0,a:null==d?1:d,h:h,s:i,l:j}}function ca(a){return function(b){return 0<arguments.length?this.set(a,b):this.get(a)}}function Zb(a,b,c){c=0>c?c+1:1<c?c-1:c;return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}function Nc(a,b,c){var b=0.5>=c?c*(b+1):c+b-c*b,d=2*c-b,c=255*Zb(d,b,a+1/3),e=255*Zb(d,b,a),
a=255*Zb(d,b,a-1/3);return da(c)<<24|da(e)<<16|da(a)<<8}function Oc(a){return{setup:function(b){var c=Pc(b[a]);b[a+"_r"]=c.r();b[a+"_g"]=c.g();b[a+"_b"]=c.b();b[a+"_a"]=c.a();delete b[a]},step:function(b){b[a]=""+new Pc.RGBAColor(b[a+"_r"],b[a+"_g"],b[a+"_b"],b[a+"_a"]);delete b[a+"_r"];delete b[a+"_g"];delete b[a+"_b"];delete b[a+"_a"]}}}function K(){this._segments=[];this.requiredCurves=0;this.currentPoint=new v(0,0);this.lastMoveTo=new v(0,0)}function $b(a,b,c){this.context=a;this.listener=b;this.times=
c||Infinity}function Qc(a){this.pendingAssets=a}function Rc(a,b,c){if(null!=a)if(a instanceof ee.BaseFilter)if(Sc.isArray(a.value))for(var d=0,e=a.value.length;d<e;++d)if(("dropShadowByOffset"===a.type||"dropShadowByAngle"===a.type)&&3===d){var f=Tc(a.value[d]);c[s+b+"_"+d+"_r"]=f.r();c[s+b+"_"+d+"_g"]=f.g();c[s+b+"_"+d+"_b"]=f.b();c[s+b+"_"+d+"_a"]=f.a()}else c[s+b+"_"+d]=a.value[d];else c[s+b]=a.value;else c[s+b]=a}function r(a){return a instanceof r.LinearGradient||a instanceof r.RadialGradient?
a:r.parse(a)}function Uc(a,b){this.disconnect=b;this.notifyRenderer=a}function Q(a){return fe.mixin({},a)}function t(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",a);if(b)for(var d in b)a.setAttribute(d,b[d]);c&&c.appendChild(a);return a}function Vc(a,b){this.runnerUrl=a;this.doc=b}function Wc(a,b,c,d){this.renderer=a;this.assetController=b;this.runner=c;this.baseUrl=d;c.on("message",this,this.handleEvent);b.on("assetLoadSuccess",this,function(a){this.post("assetLoadSuccess",a)});
b.on("assetLoadError",this,function(a){this.post("assetLoadError",a)});this.renderer.on("userevent",this,function(a,b){this.post("userevent",{event:a,targetId:b})});c.init()}function pa(a,b,c,d){if(b instanceof pa)return b.clone();this.subjectsById={};this.subjects=[];d=this.options=d||{};this.isTimelineBound=!1!==d.isTimelineBound;this._parseEventProps(d);var e=d.easing;this.easing="function"==typeof e?e:ge[e];this.clock=a;this.duration=Math.floor(+b||a.toFrameNumber(b));this.repeat=(d.repeat||0)-
(d.repeat%1||0);this.delay=d.delay||0;this.properties=c;this.propertyNames=Object.keys(c);this.startValues=0;this.translations=d.translate?[d.translate]:[];this._translationData={};this._getTranslations();this._runTranslations(c,"setupTo");this.propertyNames=Object.keys(c);this.strategy=d.strategy;this._bind()}function ac(a,b,c,d){d||(d={});this.clock=a;b=this.duration=+b||a.toFrameNumber(b);this.subjects=[];this.animations=[];this.initialValues=null;this.currentAnimation=-1;this.repeat=d.repeat||
0;this.keyframes=this._convertKeysToFrames(c);this.keys=Object.keys(this.keyframes).map(Number);this.keys.sort(function(a,b){return a-b});d.subjects&&this.setSubjects(d.subjects,d.strategy)}function he(){var a=this._matrix,b=Xc(a.b,a.a),a=-Xc(a.c,a.d);return b>a?b:a}function ie(a){if(bc(a)){var a=+a%(2*je)||0,b=this._matrix,c=b.transformPoint(this.origin),d=c.x,c=c.y;b.tx-=d;b.ty-=c;b.rotate(a-this.rotation);b.tx+=d;b.ty+=c;this._owner._mutatedAttributes.matrix=!0}}function ke(){var a,b=this._matrix.clone(),
c=this._scaleX,d=this._scaleY;if(1!==c||1!==d)a=b.transformPoint(this._origin),b.tx-=a.x,b.ty-=a.y,b.scale(c,d),b.tx+=a.x,b.ty+=a.y;return b}function le(a){var b=this._matrix;b.a=a.a;b.b=a.b;b.c=a.c;b.d=a.d;b.tx=a.tx;b.ty=a.ty}function me(){return this.matrix.tx}function ne(a){this._matrix.tx=1===this._scaleX?a:this._matrix.tx+(a-this.matrix.tx);this._owner._mutatedAttributes.matrix=!0}function oe(){return this.matrix.ty}function pe(a){this._matrix.ty=1===this._scaleY?a:this._matrix.ty+(a-this.matrix.ty);
this._owner._mutatedAttributes.matrix=!0}function qe(){return this._scaleX}function re(a){bc(a)&&(this._scaleX=+a,this._owner._mutatedAttributes.matrix=!0)}function se(){return this._scaleY}function te(a){bc(a)&&(this._scaleY=+a,this._owner._mutatedAttributes.matrix=!0)}function ue(){return(this.scaleX+this.scaleY)/2}function ve(a){this.scaleX=this.scaleY=a}function we(a){this._opacity=1<a?1:0>a?0:+a}function xe(){return this._origin.clone()}function ye(a){var b=this._origin;b.x=a.x;b.y=a.y}function ze(){return this._cursor}
function Ae(a){a?/^(?:default|pointer|wait|progress)$/.test(a)&&(this._cursor=a):this._cursor=null}function Be(){return this._filters.slice(0)}function Ce(a){a?(a=[].concat(a),this._filters=a=a.map(function(a){return a instanceof Yc.BaseFilter?a:new Yc[a]})):this._filters.length=0}function De(a){var b=this._owner;b._mutatedAttributes.clipId=!0;if(a){if(!("composeRenderMessage"in a))throw Error("Not a valid clip element");b.stage&&E.registerOffStageObj(b,a,b.stage,"clip");this._clipId=a.id;this._clip=
a}else this._clip&&E.unregisterOffStageObj(b,this._clip),this._clipId=this._clip=null}function Ee(){return this._clip}function Fe(a){var b=this._owner;b._mutatedAttributes.maskId=!0;if(a){if(!("composeRenderMessage"in a))throw Error("Not a valid mask");b.stage&&E.registerOffStageObj(b,a,b.stage,"mask");this._maskId=a.id;this._mask=a}else this._mask&&E.unregisterOffStageObj(b,this._mask),this._maskId=this._mask=null}function Ge(){return this._mask}function E(){Object.defineProperty(this,"id",{value:He++});
this._attributes=Object.create(null,{_owner:G(this),_matrix:G(new Ie),matrix:F(ke,le,!0),_filters:G([],!0),filters:F(Be,Ce,!0),_opacity:G(1,!0),opacity:F(Je,we,!0),_origin:G(new Ke),origin:F(xe,ye,!0),rotation:F(he,ie,!0),_scaleX:G(1,!0),_scaleY:G(1,!0),scale:F(ue,ve,!0),scaleX:F(qe,re,!0),scaleY:F(se,te,!0),x:F(me,ne,!0),y:F(oe,pe,!0),clip:F(Ee,De,!0),_clip:G(null,!0),_clipId:G(null,!0),mask:F(Ge,Fe,!0),_mask:G(null,!0),_maskId:G(null,!0),cursor:F(ze,Ae,!0),_cursor:G(null,!0)});this._renderAttributes=
{matrix:"matrix",filters:"_filters",opacity:"_opacity",clipId:"_clipId",maskId:"_maskId",cursor:"_cursor"};this._mutatedAttributes=qa.mixin({},this._renderAttributes)}function cc(){Zc.call(this)}function $c(a,b,c){dc.call(this);this.nodeName=a||"";this._domAttributes={};this._cssStyles={};this._mutatedDomAttributes={};this._mutatedCssStyles={};this.type="DOMElement";this.setStyles(c);this.setAttributes(b)}function ad(a){bd.call(this);this.root=a;this._children=[]}function ec(a,b){this.stage=a;this.env=
b;this.plugins=a.registry.plugins;this.waiting=0;this.setGlobals()}function Le(){return this._textFillColor}function Me(a){this._textFillColor=cd(a,this._textFillColor)}function Ne(){return this._textFillGradient}function Oe(a){a&&(this._textFillGradient=Pe(a))}function Qe(){return this._fontFamily}function Re(a){this._fontFamily=a?a.fontId||a:null}function Se(){return this._glyphx}function Te(a){Ga.isArray(a)&&(this._glyphx=a);a||(this._glyphx=null)}function Ue(){return this._glyphy}function Ve(a){Ga.isArray(a)&&
(this._glyphy=a);a||(this._glyphy=null)}function We(a){this._textLineColor=cd(a,this._textLineColor)}function dd(a){ed.call(this);Object.defineProperties(this._attributes,{text:D(a||"",!0,!0),fontSize:D(null,!0,!0),fontFamily:ra(Qe,Re,!0),_fontFamily:D(null,!0),fontStyle:D(null,!0,!0),fontWeight:D(null,!0,!0),_textFillColor:D(null,!0),textFillColor:ra(Le,Me,!0),_textFillGradient:D(null,!0),textFillGradient:ra(Ne,Oe,!0),textFillOpacity:D(1,!0,!0),_glyphx:D(null,!0),_glyphy:D(null,!0),glyphx:ra(Se,
Te,!0),glyphy:ra(Ue,Ve,!0),textLineOpacity:D(1,!0,!0),_textLineColor:D(null,!0),textLineColor:ra(Xe,We,!0),textLineWidth:D(0,!0,!0),selectable:D(!0,!0,!0)});this._renderAttributes={fontSize:"fontSize",fontFamily:"_fontFamily",fontStyle:"fontStyle",fontWeight:"fontWeight",fillColor:"_textFillColor",fillGradient:"_textFillGradient",fillOpacity:"textFillOpacity",filters:"_filters",glyphx:"_glyphx",glyphy:"_glyphy",lineOpacity:"textLineOpacity",lineColor:"_textLineColor",lineWidth:"textLineWidth",opacity:"_opacity",
text:"text",selectable:"selectable"};a&&this.attr("text",a)}function Ye(){return this._textFillColor}function Ze(a){this._textFillColor=fd(a,this._textFillColor)}function $e(){return this._textFillGradient}function af(a){a&&(this._textFillGradient=bf(a))}function cf(){return this._fontFamily}function df(a){this._fontFamily=a?a.fontId||a:null}function ef(a){this._textLineColor=fd(a,this._textLineColor)}function ff(a){if("butt"===a||"round"===a||"square"===a)this._cap=""+a}function gf(a){if("miter"===
a||"round"===a||"bevel"===a)this._join=""+a}function hf(a){1<=a&&(this._miterLimit=+a)}function jf(a){this._owner.clear();this._owner.addChild(new fc(a))}function kf(){for(var a=this._owner.children(),b=[],c=0,d=a.length;c<d;++c)b.push(a[c].attr("text"));return b.join("")}function gd(a){hd.call(this);Object.defineProperties(this._attributes,{fontSize:B(16,!0,!0),fontFamily:W(cf,df,!0),_fontFamily:B("monospace",!0),fontStyle:B("normal",!0,!0),fontWeight:B("normal",!0,!0),_cap:B("butt",!0),cap:W(lf,
ff,!0),_textFillColor:B(255,!0),textFillColor:W(Ye,Ze,!0),_textFillGradient:B(null,!0),textFillGradient:W($e,af,!0),textFillOpacity:B(1,!0,!0),textLineOpacity:B(1,!0,!0),_join:B("miter",!0),join:W(mf,gf,!0),_textLineColor:B(255,!0),textLineColor:W(nf,ef,!0),textLineWidth:B(0,!0,!0),_miterLimit:B(4,!0),miterLimit:W(of,hf,!0),text:W(kf,jf,!0),textOrigin:B(null,!0,!0),selectable:B(!0,!0,!0)});var b=this._renderAttributes;b.fontSize="fontSize";b.fontFamily="_fontFamily";b.fontStyle="fontStyle";b.fontWeight=
"fontWeight";b.cap="_cap";b.fillColor="_textFillColor";b.lineColor="_textLineColor";b.fillGradient="_textFillGradient";b.fillOpacity="textFillOpacity";b.lineOpacity="textLineOpacity";b.join="_join";b.lineWidth="textLineWidth";b.miterLimit="_miterLimit";b.selectable="selectable";b.textOrigin="textOrigin";a&&this.attr("text",a)}function pf(a){var b=this.type,c=qf[b];do a.emit(b,this),a=a.parent;while(c&&!this._isStopped&&a)}function rf(){this._isStopped=!0}function X(a,b,c,d,e){this.scheme=a||void 0;
this.authority=b||void 0;this.path=c||"";this.query=d||"";this.fragment=e||""}function wb(a,b,c){this.timeoutDuration=c||wb.DEFAULT_TIMEOUT;this.request=a instanceof id?a:new id(a);this.resources=this.request.resources;this.resourcesExpectedLength=this.resources.length;this.resourcesLoaded=0;this.id=b;this.assetData={};this.resourceLoadSuccess=sa.hitch(this,"resourceLoadSuccess");this.resourceLoadError=sa.hitch(this,"resourceLoadError")}function jd(){kd.apply(this,arguments)}function gc(){ld.apply(this,
arguments)}function O(){md.apply(this,arguments);var a=this.request.id;this.fontFormats=[];this.fontId=O.fontIDs[a]=O.prefix+a;this.on("resourcesLoaded",function(){this.applyFontFace()})}function hc(){nd.apply(this,arguments)}function ea(){}function sf(a){this._source=a;var b=this._owner;b.request.call(b,a)}function ic(a,b,c){c||(c={});this._loader=a;od.call(this);if(c.onload)this.on("load",c.onload);if(c.onerror)this.on("error",c.onerror);this.type="Bitmap";Object.defineProperties(this._attributes,
{height:xb(null,!0,!0),width:xb(null,!0,!0),source:tf(uf,sf,!0),_naturalWidth:xb(0,!0,!0),_naturalHeight:xb(0,!0,!0)});a=this._renderAttributes;a.height="height";a.width="width";a.naturalHeight="_naturalHeight";a.naturalWidth="_naturalWidth";a.source="_source";this.attr("source",b)}function pd(a,b,c){this._loader=a;this.fontId=b;this.resources=c;this._load()}function u(a,b){if(!a)throw TypeError("Invalid tag name: "+a);var c=(qd[a]||(qd[a]=document.createElementNS("http://www.w3.org/2000/svg",a))).cloneNode(!1);
(b||0===b)&&c.setAttribute("data-bs-id",b);return c}function jc(a,b,c){var d=this.root=this[0]=u("svg",0);b&&d.setAttribute("width",b);c&&d.setAttribute("height",c);this.defs=this.root.appendChild(u("defs"));a.appendChild(d)}function kc(a,b,c,d){this.width=b;this.height=c;var e=this.svg=new jc(a,b,c);this.definitions=Object.create(null);rd.forEach(function(a){e.root.addEventListener(a,this,!1)},this);document.addEventListener("touchmove",Boolean,!1);document.addEventListener("keyup",this,!1);document.addEventListener("keydown",
this,!1);document.addEventListener("keypress",this,!1);this._setupFPSLog(d)}function vf(){return this._fillColor}function wf(a){this._fillColor=sd(a,this._fillColor)}function xf(){return this._fillGradient}function yf(a){a&&(this._fillGradient=zf(a))}function Af(){return this._fillImage}function Bf(a){var b=this._owner;b._mutatedAttributes.fillImageId=!0;if(a){if(!(a instanceof Cf))throw Error("img is not instance of Bitmap.");b.stage&&Ha.registerOffStageObj(b,a,b.stage,"fillImage");this._fillImageId=
a.id;this._fillImage=a}else this._fillImage&&Ha.unregisterOffStageObj(b,this._fillImage),this._fillImageId=this._fillImage=null}function Df(){return this._fillRepeat}function Ef(a){var b=ta.isArray(a);a||(a=1);if(b&&!isNaN(a[0])&&!isNaN(a[1])||!isNaN(a))this._fillRepeat=b?a:[a,a];else throw Error("repeat argument must be a number or an array [n, n].");}function Ff(a){this._lineColor=sd(a,this._lineColor)}function Gf(a){if("butt"===a||"round"===a||"square"===a)this._cap=""+a}function Hf(a){if("miter"===
a||"round"===a||"bevel"===a)this._join=""+a}function If(a){1<=a&&(this._miterLimit=+a)}function Jf(){return this._owner._segments}function Kf(a){this._owner._segments=a;this._owner.markUpdate("shapeData")}function z(a){Ha.call(this);Object.defineProperties(this._attributes,{_cap:H("butt",!0),cap:R(Lf,Gf,!0),_fillColor:H(0,!0),fillColor:R(vf,wf,!0),_fillGradient:H(null,!0),fillGradient:R(xf,yf,!0),_fillImage:H(null,!0),_fillImageId:H(null,!0),fillImage:R(Af,Bf,!0),_fillRepeat:H([1,1],!0),fillRepeat:R(Df,
Ef,!0),fillOpacity:H(1,!0,!0),lineOpacity:H(1,!0,!0),_join:H("miter",!0),join:R(Mf,Hf,!0),_lineColor:H(255,!0),lineColor:R(Nf,Ff,!0),lineWidth:H(0,!0,!0),_miterLimit:H(4,!0),miterLimit:R(Of,If,!0),segments:R(Jf,Kf,!0)});var b=this._renderAttributes;b.cap="_cap";b.fillColor="_fillColor";b.lineColor="_lineColor";b.fillGradient="_fillGradient";b.fillImageId="_fillImageId";b.fillRepeat="_fillRepeat";b.fillOpacity="fillOpacity";b.lineOpacity="lineOpacity";b.join="_join";b.lineWidth="lineWidth";b.miterLimit=
"_miterLimit";this.morphableAttributes={x:1,y:1,segments:1,fillColor:1,lineColor:1,lineWidth:1,fillOpacity:1,lineOpacity:1,opacity:1,fillGradient:1,scale:1,scaleX:1,scaleY:1,rotation:1,filters:1};this._segments=[];this._curve=new Ia;this._mutatedAttributes=ta.mixin({},this._renderAttributes);if(a){b=Ja(a)?Ja(a[0])?a[0][0]:a[0]:a;if(-1!=Pf.indexOf(b))return this.segments.apply(this,arguments);if("number"==typeof b)return this.points.apply(this,arguments);if("string"==typeof a)return this.path(a);throw TypeError('Expected array of segments or points, or SVG path string. Got "'+
a+" instead.");}}function td(a,b,c){lc.call(this);this._loader=a;this.options=c;this.sources=b;this.currentBitmapIndex=0;if(c.onload)this.on("load",c.onload);if(c.onerror)this.on("error",c.onerror);Object.defineProperties(this._attributes,{height:ud(0,!0,!0),width:ud(0,!0,!0)});this._load()}function mc(a,b,c){c||(c={});this._loader=a;vd.call(this);if(c.onload)this.on("load",c.onload);if(c.onerror)this.on("error",c.onerror);this.type="Video";Object.defineProperties(this._attributes,{height:nc(c.height,
!0,!0),width:nc(c.width,!0,!0),autoplay:nc(c.autoplay||!1,!0,!0)});a=this._renderAttributes;a.height="height";a.width="width";a.autoplay="autoplay";this.request(b)}function fa(a,b){function c(){b.length=d;b.push.apply(b,arguments);return a.apply(this,b)}var d=b.length,b=b.slice();c.prototype=a.prototype;return c}function wd(a){var a=a._children,b=[];if(a)for(var c=0,d=a.length;c<d;++c)a[c]&&(b.push(a[c].id),b.push.apply(b,wd(a[c])));return b}function oc(a,b){var c=this.registry=new Qf,c=this.assetLoader=
(new xd(c.pendingAssets)).on("request",Ka(this,this.loadAsset,null));this.env=new yd(this,c);this.pluginController=new Rf(this,this.env);this.loadUrl=b;this.stage=this.root=this;Object.defineProperties(this,{id:{value:0}});this._queuedFramesById={};this._queuedFrames=[];this.messageChannel=a;a.on("message",this,this.handleEvent);a.notifyRenderer({command:"init",data:"listening"})}function Sf(a,b,c){var d=new XMLHttpRequest;d.open("GET",a);d.onload=function(){200<=d.status||300>d.status||304==d.status?
b(this.responseText):c()};d.onerror=c;d.send(null)}var ua={},ua={linear:function(a){return a},quadIn:function(a){return Math.pow(a,2)},quadOut:function(a){return-1*a*(a-2)},quadInOut:function(a){a*=2;return 1>a?Math.pow(a,2)/2:-1*(--a*(a-2)-1)/2},cubicIn:function(a){return Math.pow(a,3)},cubicOut:function(a){return Math.pow(a-1,3)+1},cubicInOut:function(a){a*=2;return 1>a?Math.pow(a,3)/2:(Math.pow(a-2,3)+2)/2},quartIn:function(a){return Math.pow(a,4)},quartOut:function(a){return-1*(Math.pow(a-1,4)-
1)},quartInOut:function(a){a*=2;return 1>a?Math.pow(a,4)/2:-0.5*(Math.pow(a-2,4)-2)},quintIn:function(a){return Math.pow(a,5)},quintOut:function(a){return Math.pow(a-1,5)+1},quintInOut:function(a){a*=2;return 1>a?Math.pow(a,5)/2:(Math.pow(a-2,5)+2)/2},sineIn:function(a){return-1*Math.cos(a*(Math.PI/2))+1},sineOut:function(a){return Math.sin(a*(Math.PI/2))},sineInOut:function(a){return-1*(Math.cos(Math.PI*a)-1)/2},expoIn:function(a){return 0===a?0:Math.pow(2,10*(a-1))},expoOut:function(a){return 1===
a?1:-1*Math.pow(2,-10*a)+1},expoInOut:function(a){if(0===a)return 0;if(1===a)return 1;a*=2;if(1>a)return Math.pow(2,10*(a-1))/2;--a;return(-1*Math.pow(2,-10*a)+2)/2},circIn:function(a){return-1*(Math.sqrt(1-Math.pow(a,2))-1)},circOut:function(a){return Math.sqrt(1-Math.pow(a-1,2))},circInOut:function(a){a*=2;return 1>a?-0.5*(Math.sqrt(1-Math.pow(a,2))-1):0.5*(Math.sqrt(1-Math.pow(a-2,2))+1)},backIn:function(a){return Math.pow(a,2)*(2.70158*a-1.70158)},backOut:function(a){a-=1;return Math.pow(a,2)*
(2.70158*a+1.70158)+1},backInOut:function(a){a*=2;if(1>a)return Math.pow(a,2)*(3.5949095*a-2.5949095)/2;a-=2;return(Math.pow(a,2)*(3.5949095*a+2.5949095)+2)/2},elasticIn:function(a){if(0===a||1===a)return a;a-=1;return-1*Math.pow(2,10*a)*Math.sin(2*(a-0.075)*Math.PI/0.3)},elasticOut:function(a){return 0===a||1===a?a:Math.pow(2,-10*a)*Math.sin(2*(a-0.075)*Math.PI/0.3)+1},elasticInOut:function(a){if(0===a)return 0;a*=2;if(2===a)return 1;var b=0.3*1.5,c=b/4;if(1>a)return a-=1,-0.5*Math.pow(2,10*a)*Math.sin(2*
(a-c)*Math.PI/b);a-=1;return 0.5*Math.pow(2,-10*a)*Math.sin(2*(a-c)*Math.PI/b)+1},bounceIn:function(a){return 1-easingFuncs.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*Math.pow(a,2):a<2/2.75?7.5625*Math.pow(a-1.5/2.75,2)+0.75:a<2.5/2.75?7.5625*Math.pow(a-2.25/2.75,2)+0.9375:7.5625*Math.pow(a-2.625/2.75,2)+0.984375},bounceInOut:function(a){return 0.5>a?easingFuncs.bounceIn(2*a)/2:easingFuncs.bounceOut(2*a-1)/2+0.5}};ua.module$exports&&(ua=ua.module$exports);var yb={},yb={png:"Bitmap",
jpg:"Bitmap",jpeg:"Bitmap",gif:"Bitmap",bmp:"Bitmap",svg:"Bitmap",css:"Raw",json:"Raw",xml:"Raw",html:"Raw",txt:"Raw"};yb.module$exports&&(yb=yb.module$exports);var La={},zd={aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,
cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,
dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,
lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,
mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,
peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,transparent:0,
turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};Object.defineProperty(zd,"random",{get:function(){return 16777215*Math.random()<<8|255}});La.module$exports=zd;La.module$exports&&(La=La.module$exports);var Ma={};na.prototype=Error();na.prototype.constructor=na;Ma.module$exports={ParserError:na};Ma.module$exports&&(Ma=Ma.module$exports);var Na={},Ad={BaseFilter:function(a,b,c){this.type=a;this.value="undefined"==
typeof b?c:b},createFactory:function(a,b){Ad[a]=function(){var a=Object.create(b.prototype),d=b.apply(a,arguments);return"object"===typeof d?d:a}}};Na.module$exports=Ad;Na.module$exports&&(Na=Na.module$exports);var S={},T,Bd=Math.sqrt;T=function(a,b){this.x=a||0;this.y=b||0};var I=T.prototype;I.add=function(a){this.x+=a.x;this.y+=a.y;return this};I.equals=function(a){return this.x==a.x&&this.y==a.y};I.clone=function(){return new T(this.x,this.y)};I.normalize=function(a){Bd(this.x*this.x+this.y*this.y);
a/=this.length;this.x*=a;this.y*=a;return this};I.offset=function(a,b){this.x+=a;this.y+=b;return this};I.subtract=function(a){this.x-=a.x;this.y-=a.y;return this};I.divide=function(a){this.x/=a;this.y/=a;return this};I.multiply=function(a){this.x*=a;this.y*=a;return this};I.toString=function(){return this.x+","+this.y+" "};I.toObject=function(){return Object.create(null,{x:{value:this.x},y:{value:this.y}})};I.toArray=function(){return[this.x,this.y]};I.distance=function(a){var b=this.x-a.x,a=this.y-
a.y;return Bd(b*b+a*a)};T.interpolate=function(a,b,c){return new T(a.x+c*(a.x-b.x),a.y+c*(a.y-b.y))};T.polar=function(a,b){return new T(a*Math.cos(b),a*Math.sin(b))};T.lerp=function(a,b,c){return a.clone().multiply(1-c).add(b.clone().multiply(c))};S.module$exports=T;S.module$exports&&(S=S.module$exports);var va={},Cd=S,Tf=Math.cos,Uf=Math.sin;ub.prototype={clone:function(){return new ub(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(a){var b=this.a,c=this.b,d=this.c,e=this.d,f=this.tx,
g=this.ty;this.a=b*a.a+c*a.c;this.b=b*a.b+c*a.d;this.c=d*a.a+e*a.c;this.d=d*a.b+e*a.d;this.tx=f*a.a+g*a.c+a.tx;this.ty=f*a.b+g*a.d+a.ty;return this},createBox:function(a,b,c,d,e){return this.identify().rotate(c).scale(a,b).translate(d,e)},deltaTransformPoint:function(a){return new Cd(this.a*a.x+this.c*a.y,this.b*a.x+this.d*a.y)},identify:function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this},invert:function(){var a=this.a*this.d-this.b*this.c,b=this.a,c=this.b,d=this.c,e=this.d,f=
this.tx,g=this.ty;this.a=e/a;this.b=-c/a;this.c=-d/a;this.d=b/a;this.tx=(d*g-e*f)/a;this.ty=(c*f-b*g)/a;return this},rotate:function(a){var b=Tf(a),a=Uf(a);return this.concat(new ub(b,a,-a,b,0,0))},scale:function(a,b){this.a*=a;this.b*=b;this.c*=a;this.d*=b;this.tx*=a;this.ty*=b;return this},transformPoint:function(a){return new Cd(this.a*a.x+this.c*a.y+this.tx,this.b*a.x+this.d*a.y+this.ty)},translate:function(a,b){this.tx+=a;this.ty+=b;return this}};va.module$exports=ub;va.module$exports&&(va=va.module$exports);
var zb={module$exports:function(){return{displayObjects:Object.create(null),loadingDisplayObjects:Object.create(null),movies:new de,needsDraw:Object.create(null),needsInsertion:Object.create(null),pendingAssets:Object.create(null),plugins:[]}}};zb.module$exports&&(zb=zb.module$exports);var Oa={},Vf={}.hasOwnProperty;Oa.module$exports={filterToSignature:function(a){return a.type+"("+a.value+")"},gradientToSignature:function(a){switch(a.type){case "linear-gradient":return"linear-gradient"+[a.direction,
a.stops].join(":");case "radial-gradient":return"radial-gradient"+[a.cx,a.cy,a.r,a.stops].join(":")}},valueFromSignatureForType:function(a,b){var c=RegExp(b+"\\((.+)\\)").exec(a);return c&&c[1]},matrixToString:function(a){return"matrix("+[a.a,a.b,a.c,a.d,a.tx,a.ty].join()+")"},cssClasses:function(){if("undefined"!=typeof document){var a={nonSelectable:"-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;-o-user-select: none;user-select: none;"},
b={},c=0,d=(document.getElementsByTagName("head")||[document.body])[0].appendChild(document.createElement("style")),e=[],f;for(f in a)b[f]="bs-"+ +new Date+"-"+ ++c,Vf.call(a,f)&&e.push("."+b[f]+"{"+a[f]+"}\n");d.appendChild(document.createTextNode(e.join("")));return{add:function(a,c){a.setAttribute("class",(a.getAttribute("class")||"")+" "+b[c])},remove:function(a,c){a.setAttribute("class",(a.getAttribute("class")||"").replace(b[c],""))}}}}()};Oa.module$exports&&(Oa=Oa.module$exports);var wa={},
Fa=Ma,N={arcBy:{attributes:["P","N","B","B","P"],shorthands:["a"]},arcTo:{attributes:["P","N","B","B","P"],shorthands:["A"]},closePath:{attributes:[],shorthands:["Z","z"]},curveBy:{attributes:["P","P","P"],shorthands:["c"]},curveTo:{attributes:["P","P","P"],shorthands:["C"]},horizontalLineTo:{attributes:["N"],shorthands:["H"],convertTo:"lineTo"},lineBy:{attributes:["P"],shorthands:["l"]},lineTo:{attributes:["P"],shorthands:["L"]},moveBy:{attributes:["P"],shorthands:["m"]},moveTo:{attributes:["P"],
shorthands:["M"]},verticalLineBy:{attributes:["N"],shorthands:["v"],convertTo:"lineBy"},verticalLineTo:{attributes:["N"],shorthands:["V"],convertTo:"lineTo"},horizontalLineBy:{attributes:["N"],shorthands:["h"],convertTo:"lineBy"},quadraticCurveBy:{attributes:["P","P"],shorthands:["q"]},quadraticCurveTo:{attributes:["P","P"],shorthands:["Q"]},smoothCurveBy:{attributes:["P","P"],shorthands:["s"]},smoothCurveTo:{attributes:["P","P"],shorthands:["S"]},smoothQuadraticCurveBy:{attributes:["P"],shorthands:["t"]},
smoothQuadraticCurveTo:{attributes:["P"],shorthands:["T"]},throughCurveBy:{attributes:["P","P"],shorthands:["tc"]},throughCurveTo:{attributes:["P","P"],shorthands:["TC"]}},Dd={},J;for(J in N)N.hasOwnProperty(J)&&N[J].shorthands.forEach(function(a){Dd[a]=J});var Ed={};for(J in N)N.hasOwnProperty(J)&&(Ed[J]=N[J].shorthands[0]);var Ab=[];for(J in N)N.hasOwnProperty(J)&&(Ab.push(J),Ab=Ab.concat(N[J].shorthands));wa.module$exports={validTokens:Ab,parsePath:function(a){var b=[];a.replace(/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,
function(a,d,e){b.push(Dd[d]);e.replace(/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/ig,function(a,c){c&&b.push(c)})});return Mc(b)},exportToPath:function(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++){c=a[f];for(var h=0,i=c.length;h<i;h++)d=c[h],e.push("string"==typeof d?Ed[d]:d)}e=e.join(" ");return b&&"M"!==e.slice(0,1)?"M 0.5 0.5 "+e:e},parseCommandList:Mc};wa.module$exports&&(wa=wa.module$exports);var p={},Fd={}.hasOwnProperty,Wf=[].indexOf,Gd=function(){},Xf=[].push,Yf=[].slice,Zf={}.toString,Bb={baseUri:function(a){var b=
a.baseURI;if(void 0!==b)return b.replace(/[/]+[^/]*$/,"/");a=a.createElement("a");a.href=".";return a.href},beget:function(a){Gd.prototype=a;return new Gd},descriptorAccessor:function(a,b,c,d){return{get:a,set:b,enumerable:!!c,configurable:!!d}},descriptorData:function(a,b,c,d){return{value:a,writable:!!b,enumerable:!!c,configurable:!!d}},forEach:function(a,b,c){var d=a.length;c&&(b=Bb.hitch(c,b));for(c=0;c<d&&!1!==b(a[c],c,a);c+=1);return a},forOwn:function(a,b,c){c&&(b=Bb.hitch(c,b));for(var d in a)if(Fd.call(a,
d)&&!1===b(a[d],d,a))break;return a},getter:function(a){return function(){return this[a]}},hitch:function(a,b,c){if(2<arguments.length)var c=Yf.call(arguments,2),d=c.length;"string"==typeof b&&(b=a[b]);return c?function(){c.length=d;Xf.apply(c,arguments);return b.apply(a,c)}:function(){return b.apply(a,arguments)}},indexOf:function(a,b,c){return Wf.call(a,b,c)},isArray:Array.isArray||function(a){return"[object Array]"==Zf.call(a)},keys:Object.keys||function(a){if(a!==Object(a))throw TypeError();var b=
[],c;for(c in a)Fd.call(a,c)&&b.push(c);return b},map:function(a,b,c){var d=a.length,e=Array(d);c&&(b=Bb.hitch(c,b));for(c=0;c<d;c+=1)e[c]=b(a[c],c,a);return e},mixin:function(a,b){var c,d,e=arguments.length;for(c=1;c<e;c+=1)for(d in b=arguments[c]||{},b)a[d]=b[d];return a},offset:function(a){var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{left:b,top:c}},reduce:function(a,b,c){var d=3>arguments.length,e=a.length;d&&(c=a[0]);for(d=d?1:0;d<e;d+=1)c=b(c,a[d],d,a);return c},
removeValueFromArray:function(a,b){for(var c,d=0,e=0,f=a.length;e<f;e+=1)c=a[e],c===b?d+=1:d&&(a[e-d]=c);a.length-=d;return a}};p.module$exports=Bb;p.module$exports&&(p=p.module$exports);var A={},Hd=La,oa=Math.max,ba=Math.min,$f=Math.random,da=Math.round,q=vb.prototype;V.RGBAColor=vb;q.red=q.r=ca("r");q.green=q.g=ca("g");q.blue=q.b=ca("b");q.alpha=q.a=ca("a");q.hue=q.h=ca("h");q.saturation=q.s=ca("s");q.lightness=q.l=ca("l");q.set=function(a,b){var c,d=this._properties;if(null==b){if(a)for(c in a)this.set(c,
a[c]);return this}b=+b;a=a.charAt(0);switch(a){case "r":case "g":case "b":case "a":d[a]=b;break;case "h":case "s":case "l":if(1<b||0>b)throw Error("Property: "+a+" must be from 0 to 1");d[a]=b;c=Nc(d.h,d.s,d.l);d.r=c>>24&255;d.g=c>>16&255;d.b=c>>8&255;break;default:throw Error("No support for setting: "+a);}return this};q.get=function(a){var b=this._properties;switch(a){case "r":case "g":case "b":return da(b[a]);case "a":return b[a];case "h":case "s":case "l":return b[a];default:throw Error("No support for getting: "+
a);}};q.lighter=function(a){var b=this.clone();b.set("l",b.get("l")+(null==a?0.01:a));return b};q.darker=function(a){var b=this.clone();b.set("l",b.get("l")-(null==a?0.01:a));return b};q.midpoint=function(a){a=V(a);return new vb((this.r()+a.r())/2,(this.g()+a.g())/2,(this.b()+a.b())/2,(this.a()+a.a())/2)};q.setColorMatrix=function(a){for(var b=[],c=this._properties,d=c.r,e=c.g,f=c.b,c=c.a,g=a.length;g--;)b[g]=+a[g];this.set("r",ba(255,oa(0,d*b[0]+e*b[1]+f*b[2]+c*b[3]+255*b[4])));this.set("g",ba(255,
oa(0,d*b[5]+e*b[6]+f*b[7]+c*b[8]+255*b[9])));this.set("b",ba(255,oa(0,d*b[10]+e*b[11]+f*b[12]+c*b[13]+255*b[14])));this.set("a",ba(1,oa(0,d*b[15]+e*b[16]+f*b[17]+c*b[18]+b[19])));return this};q._setPointAlongRange=function(a,b,c){var a=a.charAt(0),d=this[a]();switch(a){case "r":case "g":case "b":this.set(a,c?oa(0,ba(255,b*c+(d-c/2))):255*b);break;default:this.set(a,c?ba(1,b*c+d-c/2):b)}return this};q.randomize=function(a,b){if(!a||"string"==typeof a)a=a?[a]:["r","g","b"];for(var c=this.clone(),d=
a.length;d--;)c._setPointAlongRange(a[d],$f(),b);return c};q.clone=function(a){return a?V(+this).set(a):V(+this)};q.rgba=function(){return"rgba("+[this.r(),this.g(),this.b(),this.a()].join()+")"};q.rgb=function(){return"rgb("+[this.r(),this.g(),this.b()].join()+")"};q.hsla=function(){return"hsla("+[da(360*this.h()),da(100*this.s())+"%",da(100*this.l())+"%",this.a()].join()+")"};q.int32=function(){return((this.r()&255)<<24|(this.g()&255)<<16|(this.b()&255)<<8|255*this.a()&255)>>>0};q.toString=function(){return"0x"+
("0000000"+(((this.r()&255)<<24|(this.g()&255)<<16|(this.b()&255)<<8|255*this.a()&255)>>>0).toString(16)).slice(-8)};V.parse=function(a,b){var c,a=""+a;a in Hd&&(a=Hd[a]);if(/^#[0-9a-f]{6}$/i.test(a))a=(parseInt(a.slice(1),16)<<8|255)>>>0;else if(/^#[0-9a-f]{8}$/i.test(a))a=parseInt(a.slice(1),16)>>>0;else if(/^#[0-9a-f]{3}$/i.test(a))var a=parseInt(a.slice(1),16),d=a&3840,e=a&240,f=a&15,a=(d<<20|d<<16|e<<16|e<<12|f<<12|f<<8|255)>>>0;if(!isNaN(a))return+a;a=a.split("(");if(2==a.length)switch(d=a[1].slice(0,
-1).split(","),e=d.length,a[0]){case "rgb":c=255;case "rgba":if(4==e||3==e&&c)return((d[0]&255)<<24|(d[1]&255)<<16|(d[2]&255)<<8|(c||255*d[3]&255))>>>0;break;case "hsl":c=255;case "hsla":if(4==e||3==e&&c)return a=Nc(d[0]%360/360,parseInt(d[1])/100,parseInt(d[2])/100),a|(c||255*d[3]&255)}return null==b?null:V.parse(b)};A.module$exports=V;A.module$exports&&(A=A.module$exports);var Pa={},Pc=A;Pa.module$exports={lineColor:Oc("lineColor"),fillColor:Oc("fillColor")};Pa.module$exports&&(Pa=Pa.module$exports);
var Qa={},Id=A;Qa.module$exports={fillGradient:{setup:function(a){var b=a.fillGradient.stops,c;this._fillGradient=a.fillGradient.clone();"linear-gradient"===a.fillGradient.type?a.fillGradientDirection=a.fillGradient.direction:(a.fillGradientCX=a.fillGradient.cx,a.fillGradientCY=a.fillGradient.cy,a.fillGradientR=a.fillGradient.r);for(var d=0,e=b.length;d<e;++d)c=Id(b[d][0]),a["fillGradientStop_"+d+"r"]=c.r(),a["fillGradientStop_"+d+"g"]=c.g(),a["fillGradientStop_"+d+"b"]=c.b(),a["fillGradientStop_"+
d+"a"]=c.a(),isNaN(b[d][1])||(a["fillGradientStop_"+d+"_pos"]=b[d][1]);delete a.filLGradient},step:function(a){"linear-gradient"===this._fillGradient.type?(this._fillGradient.direction=a.fillGradientDirection,delete a.fillGradientDirection):(this._fillGradient.cx=a.fillGradientCX,this._fillGradient.cy=a.fillGradientCY,this._fillGradient.r=a.fillGradientR,delete a.fillGradientCX,delete a.fillGradientCY,delete a.fillGradientR);for(var b=this._fillGradient.stops,c=0,d=b.length;c<d;++c)b[c][0]=+new Id.RGBAColor(a["fillGradientStop_"+
c+"r"],a["fillGradientStop_"+c+"g"],a["fillGradientStop_"+c+"b"],a["fillGradientStop_"+c+"a"]),b[c][1]=a["fillGradientStop_"+c+"_pos"],delete a["fillGradientStop_"+c+"r"],delete a["fillGradientStop_"+c+"g"],delete a["fillGradientStop_"+c+"b"],delete a["fillGradientStop_"+c+"a"],delete a["fillGradientStop_"+c+"_pos"];a.fillGradient=this._fillGradient}}};Qa.module$exports&&(Qa=Qa.module$exports);var Cb={module$exports:{segments:{setupTo:function(a){for(var b=a.segments,c=0,d=b.length;c<d;++c)for(var e=
b[c],f=0,g=e.length;f<g;++f)isNaN(e[f])||(a["segment_"+c+"_"+f]=e[f])},setupFrom:function(a){var b=a.segments;this._segments=b;for(var c=0,d=b.length;c<d;++c)for(var e=b[c],f=0,g=e.length;f<g;++f)isNaN(e[f])||(a["segment_"+c+"_"+f]=e[f]);delete a.segments},step:function(a){for(var b=this._segments,c=0,d=b.length;c<d;++c)for(var e=b[c],f=0,g=e.length;f<g;++f)isNaN(a["segment_"+c+"_"+f])||(e[f]=a["segment_"+c+"_"+f],delete a["segment_"+c+"_"+f]);a.segments=b}}}};Cb.module$exports&&(Cb=Cb.module$exports);
var Ra={},v=S,Jd=p,pc,Kd,qc=Math.abs,Ld=Math.asin,ag=Math.ceil,Db=Math.cos,Y=Math.PI,ga=Math.pow,Eb=Math.sqrt,Fb=Math.sin,bg=Math.tan,C=K.prototype={};C.clear=function(){this._segments.length=0};C._push=function(){var a=[].slice.call(arguments);a.from=this.currentPoint.clone();a.lastMoveTo=this.lastMoveTo.clone();this._segments.push(a);return this};C.moveTo=function(a,b){this._push("moveTo",a,b);this.currentPoint=new v(a,b);this.lastMoveTo=new v(a,b);return this};C.moveBy=function(a,b){var c=this.currentPoint;
return this.moveTo(c.x+a,c.y+b)};C.closePath=function(){this._push("closePath");this.currentPoint=this.lastMoveTo.clone();return this};C.lineTo=function(a,b){var c=this.currentPoint;this._push("curveTo",c.x,c.y,a,b,a,b);this.currentPoint=new v(a,b);return this};C.lineBy=function(a,b){var c=this.currentPoint;return this.lineTo(c.x+a,c.y+b)};C.curveTo=function(a,b,c,d,e,f){this._push("curveTo",a,b,c,d,e,f);this.currentPoint=new v(e,f);return this};C.curveBy=function(a,b,c,d,e,f){var g=this.currentPoint.x,
h=this.currentPoint.y;return this.curveTo(g+a,h+b,g+c,h+d,g+e,h+f)};C.arcTo=function(a,b,c,d,e,f,g){var h,i,j=this.currentPoint.x,k=this.currentPoint.y,b=pc(j,k,a,b,c,d,e,f,g),c=b.cx,d=b.cy,e=b.startAngle;h=b.endAngle-e;a=b.rx;b=b.ry;i=ag(qc(h)/(Y/2));h/=i;for(var l=0;l<i;++l){var m=m||j,p=p||k,n=e+h*l,o=n+h,L=4/3*bg((o-n)/4),q=c+a*Db(o),r=d+b*Fb(o),s=m+L*a*-Fb(n),n=p+L*b*Db(n),t=q+L*a*Fb(o),o=r+L*b*-Db(o),m=q,p=r;this._push("curveTo",s,n,t,o,q,r)}this.currentPoint=new v(f,g);return this};C.arcBy=
function(a,b,c,d,e,f,g){var h=this.currentPoint;return this.arcTo(a,b,c,d,e,f+h.x,g+h.y)};C.quadraticCurveTo=function(a,b,c,d){var e=1/3,f=2/3,g=this.currentPoint;this._push("curveTo",e*g.x+f*a,e*g.y+f*b,e*c+f*a,e*d+f*b,c,d);this.currentPoint=new v(c,d);return this};C.quadraticCurveBy=function(a,b,c,d){var e=this.currentPoint;return this.quadraticCurveTo(a+e.x,b+e.y,c+e.x,d+e.y)};C.nullCurve=function(a){var a=null==a?this._segments.length-1:a,b,c,d,e=this._segments[a];e?(c=e[e.length-2],d=e[e.length-
1]):c=d=0;b=["curveTo",c,d,c,d,c,d];b.from=new v(c,d);b.lastMoveTo=e?e.lastMoveTo.clone():new v(0,0);this._segments.splice(a+1,0,b);return this};C.splitCurve=function(a){var b,c,d=this._segments[a],e=[];if(!d||7>d.length)return this;c=Kd(d.from.clone(),new v(d[1],d[2]),new v(d[3],d[4]),new v(d[5],d[6]),0.5);b=c.left;c=c.right;var f=["curveTo",b[1].x,b[1].y,b[2].x,b[2].y,b[3].x,b[3].y];f.from=b[0].clone();f.lastMoveTo=d.lastMoveTo.clone();e.push(f);b=["curveTo",c[1].x,c[1].y,c[2].x,c[2].y,c[3].x,c[3].y];
b.from=c[0].clone();b.lastMoveTo=d.lastMoveTo.clone();e.push(b);this._segments.splice(a,1,f,b);return this};pc=K.propertiesFromAbsoluteArc=function(a,b,c,d,e,f,g,h,i){var f=!!f,g=!!g,j=e*Y/180,k=Db(j),l=ga(c,2),m=ga(d,2),j=Fb(j),n=(a-h)/2,p=(b-i)/2,o=k*n+j*p,L=-j*n+k*p,q;q=ga(o,2);var r=ga(L,2),n=ga(n,2)/l+ga(p,2)/m;if(1<n)return c*=Eb(n),d*=Eb(n),pc(a,b,c,d,e,f,g,h,i);e=(l*m-l*r-m*q)/(l*r+m*q);0>e?(c/=d,e=r+q/ga(c,2),d=Eb(e),c*=d,L=f=0):(q=(f===g?-1:1)*Eb(e),f=q*c*L/d,L=-q*d*o/c);o=f*k-L*j+(a+h)/
2;k=f*j+L*k+(b+i)/2;b=Ld((b-k)/d);i=Ld((i-k)/d);b=a<o?Y-b:b;i=h<o?Y-i:i;0>b&&(b=2*Y+b);0>i&&(i=2*Y+i);g&&b>i&&(b-=2*Y);!g&&i>b&&(i-=2*Y);return{cx:o,cy:k,rx:c,ry:d,startAngle:b,endAngle:i}};Kd=K.splitAbsoluteCubicBezier=function(a,b,c,d,e){if(0==e)return{left:[a,a,a,a],right:[a,b,c,d]};if(1==e)return{left:[a,b,c,d],right:[d,d,d,d]};var f=v.lerp(a,b,e),g=v.lerp(b,c,e),c=v.lerp(c,d,e),b=v.lerp(f,g,e),g=v.lerp(g,c,e),e=v.lerp(b,g,e);return{left:[a,f,b,e],right:[e,g,c,d]}};K.countSubPaths=function(a){for(var b=
[],c=0,d=0,e=a.length;d<e;++d)"closePath"===a[d][0]||d===e-1?(b.push(c+1),c=0):++c;return b};K.subPathToCurves=function(a,b){var c=new K,d=c._segments,e,f,g,h=!1;if(!a)return[];!a.length&&b&&(a=[["moveTo",0,0],["closePath"]]);e=0;for(h=a.length;e<h;++e)f=a[e],(g=f[0])&&c[g].apply(c,f.slice(1));h=(e=d.length)&&"closePath"===d[e-1][0];if(e<b){b-=e;h&&e--;g=Math.ceil(e/b);f=Math.ceil(1/(e/b));e-=1;a:for(;0<=e;e-=g)for(var i=f;i--;)if(b--)c.nullCurve(e);else break a;for(e=d.length;0<b--;)c.nullCurve(h?
e-2:e-1)}return d};K.toCurves=function(a,b){if(!Jd.isArray(a))return[];Jd.isArray(b)||(b=[b]);for(var c=K.countSubPaths(a),d=[],e=0,f=Math.max(c.length,b.length);e<f;++e)d=d.concat(K.subPathToCurves(a.splice(0,c[e]),b[e]));return d};K.fromArc=function(a,b,c,d,e,f,g,h,i){if(!(a===h&&b===i)){if(0===c||0===d)return["lineTo",x,y];qc(c);qc(d)}};Ra.module$exports=K;Ra.module$exports&&(Ra=Ra.module$exports);var ha={},Sa=p,rc=Math.max,sc=Math.min,Md=Sa.removeValueFromArray;ha.module$exports={addChild:function(a,
b){var c=0<=b;if(Sa.isArray(a))return c&&a.reverse(),Sa.forEach(a,function(a){c?this.addChild(a,b):this.addChild(a)},this),this;var d=this.stage;a.parent&&a.parent.removeChild(a);var e=!a.stage&&d;a.parent=this;var f=this._children||(this._children=[]),g=f.length;c?f[b]?(f.splice(b,0,a),g+=1):f[b]=a:(b=f.push(a)-1,g+=1);var h,i,j;for(h=b-1;0<=h&&!(j=f[h]);h-=1);if(j)i=j.next,j.next=a;else for(h=b+1;h<g&&!(i=f[h]);h+=1);i&&(a.next=i);h=(g=d&&d.registry)&&g.displayObjects;i=g&&g.movies.add;j=g&&g.needsInsertion;
if(e){var e=a,k=[],l=k.push,m=0;do{e._activate(d);e.markUpdate();if(g){var n=e.id;h[n]=e;j[n]=e;"function"==typeof e.advance&&i(e)}(f=e._children)&&l.apply(k,Md(f.slice()))}while(e=k[m++])}else a._activate(d),j&&(j[a.id]=a),a.markUpdate();return this},children:function(a,b){if(!a){var c=this._children;return c?c.slice():[]}this.clear();return this.addChild.apply(this,arguments)},clear:function(){var a=this._children;a&&a.slice(0).map(this.removeChild,this);return this},getComputed:function(a){var b=
this._children,c=!0;if("top"===a||"right"===a||"bottom"===a||"left"===a){var d="top"===a||"bottom"===a?"y":"x",e="top"===a||"left"===a?sc:rc;return Sa.reduce(b,function(b,g){if(!g)return b;var h=g.attr(d)+g.getComputed(a);return c?(c=!1,h):e(b,h)},0)}b=Sa.reduce(b,function(a,b){if(!b)return a;var d=b.getComputed("size"),e=b.attr("x"),j=b.attr("y"),k=j+d.top;a.top=c?k:sc(a.top,k);k=e+d.right;a.right=c?k:rc(a.right,k);j+=d.bottom;a.bottom=c?j:rc(a.bottom,j);d=e+d.left;a.left=c?d:sc(a.left,d);c=!1;return a},
{top:0,right:0,bottom:0,left:0,width:0,height:0});b.height=b.bottom-b.top;b.width=b.right-b.left;return"size"===a?b:b[a]},getIndexOfChild:function(a){var b=this._children;return b?b.indexOf(a):-1},removeChild:function(a,b){var c=this._children,d=c?c.indexOf(a):-1;if(-1==d)return this;for(var e=d-1;0<=e;e-=1){var f=c[e];f&&(f.next=a.next)}a.next?"keepIndexes"===b?delete c[d]:c.splice(d,1):c.length=d;delete a.parent;delete a.next;var g,f=(e=(d=a.stage)&&d.registry)&&e.displayObjects,h=e&&e.movies.remove,
i=e&&e.needsInsertion,j=a,k=[],l=k.push;if(d){a.markUpdate();d=0;do e&&(h(j),g=j.id,delete f[g],delete i[g]),j._deactivate(),(c=j._children)&&l.apply(k,Md(c.slice()));while(j=k[d++])}return this}};ha.module$exports&&(ha=ha.module$exports);var w={},dg=p,tc="".split,uc={addListener:function(a,b,c){2===arguments.length&&(c=b,b=null);var d=c instanceof $b,e=typeof c;if("function"!=e&&"string"!=e&&!d)throw TypeError("Expected function or string, instead got "+e+".");d||(c=new $b(b,c));for(var d=this._events||
(this._events={}),e=-1,f=tc.call(a," "),g=f.length;++e<g;)a=":"+f[e],(d[a]||(d[a]=[])).push(c);return this},emit:function(a){var b=this._events,c=b&&b[":"+a],d=c&&c.length;if(!c||!d)return this;for(var e=arguments.length,f=Array(e-1),b=1;b<e;b+=1)f[b-1]=arguments[b];e=Array(d);for(b=0;b<d;b+=1)e[b]=c[b];for(var g,b=0;e[b];b+=1)d=e[b],c=d.context,g=d.listener,"string"===typeof g&&(g=c[g]),g.apply(c||this,f),g=d.times-=1,0>=g&&this.removeListener(a,c,d.listener);return this},listeners:function(a){var b=
this._events||(this._events={}),a=":"+a;return b[a]||(b[a]=[])},once:function(a,b,c){2===arguments.length&&(c=b,b=null);if("function"!=typeof c)throw TypeError("Expected function, instead got "+typeof c+".");return this.addListener(a,new $b(b,c,1))},removeListener:function(a,b,c){2===arguments.length&&(c=b,b=null);for(var d,e,f,g,h=this._events||{},i=-1,j=tc.call(a," "),k=j.length;++i<k;){d=!1;g=h[":"+j[i]]||[];for(f=0;e=g[f];f+=1)d?g[f-1]=e:d=e.listener===c&&e.context===b;d&&(g.length-=1)}return this},
removeAllListeners:function(a){for(var b=this._events||{},c=!0,d=-1,a=a&&tc.call(a," ")||(c=!1,dg.keys(b)),e=a.length;++d<e;)(b[c?":"+a[d]:a[d]]||[]).length=0;return this}};uc.on=uc.addListener;w.module$exports=uc;w.module$exports&&(w=w.module$exports);var Ta={},eg=w,fg=p,gg=Qc.prototype={handleEvent:function(a,b,c){var d=this.pendingAssets,e;b in d&&(e=d[b],e.notify(a,c),delete d[b])},request:function(a,b,c){this.pendingAssets[a.id]=a;this.emit("request",a.id,b,c)}};fg.mixin(gg,eg);Ta.module$exports=
Qc;Ta.module$exports&&(Ta=Ta.module$exports);var ia={},m=Na,hg=A;m.Blur=function(a){return new m.BaseFilter("blur",a,1)};m.createFactory("blur",m.Blur);m.Brightness=function(a){return new m.BaseFilter("brightness",a,2)};m.createFactory("brightness",m.Brightness);m.ColorMatrix=function(a){return new m.BaseFilter("colorMatrix",a,[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0])};m.createFactory("colorMatrix",m.ColorMatrix);m.Contrast=function(a){return new m.BaseFilter("contrast",a,2)};m.createFactory("contrast",
m.Contrast);m.DropShadow=function(a,b,c,d){d=hg.parse(d,0);return/deg$/.test(a)?(a=Math.PI/180*parseFloat(a),new m.BaseFilter("dropShadowByAngle",[a,b,c,d],[0,0,0,255])):new m.BaseFilter("dropShadowByOffset",[a,b,c,d],[0,0,0,255])};m.createFactory("dropShadow",m.DropShadow);m.Grayscale=function(a){return new m.BaseFilter("grayscale",a,1)};m.createFactory("grayscale",m.Grayscale);m.HueRotate=function(a){return new m.BaseFilter("hueRotate",a,90)};m.createFactory("hueRotate",m.HueRotate);m.Invert=function(a){return new m.BaseFilter("invert",
a,1)};m.createFactory("invert",m.Invert);m.Opacity=function(a){return new m.BaseFilter("opacity",a,0.5)};m.createFactory("opacity",m.Opacity);m.Saturate=function(a){return new m.BaseFilter("saturate",a,5)};m.createFactory("saturate",m.Saturate);m.Sepia=function(a){return new m.BaseFilter("sepia",a,1)};m.createFactory("sepia",m.Sepia);ia.module$exports=m;ia.module$exports&&(ia=ia.module$exports);var Ua={},Sc=p,ee=ia,Tc=A,s="filter_";Ua.module$exports={filters:{setupTo:function(a){Sc.isArray(a.filters)||
(a.filters=[a.filters]);for(var b=0,c=a.filters.length;b<c;b++)Rc(a.filters[b],b,a);this._to=a.filters;delete a.filters},setupFrom:function(a){for(var b=0,c=this._to.length;b<c;b++)Rc(a.filters[b],b,a);this._filters=a.filters;delete a.filters},step:function(a){for(var b=0,c=this._to.length;b<c;b++)if(null!=this._to[b])if(null!=a[s+b])this._filters[b].value=a[s+b],delete a[s+b];else for(var d=0,e=this._to[b].value.length;d<e;++d)if(("dropShadowByOffset"===this._to[b].type||"dropShadowByAngle"===this._to[b].type)&&
3===d){var f=new Tc.RGBAColor(a[s+b+"_"+d+"_r"],a[s+b+"_"+d+"_g"],a[s+b+"_"+d+"_b"],a[s+b+"_"+d+"_a"]);delete a[s+b+"_"+d+"_r"];delete a[s+b+"_"+d+"_g"];delete a[s+b+"_"+d+"_b"];delete a[s+b+"_"+d+"_a"];this._filters[b].value[d]=f}else this._filters[b].value[d]=a[s+b+"_"+d],delete a[s+b+"_"+d];a.filters=this._filters}}};Ua.module$exports&&(Ua=Ua.module$exports);var Z={},Gb=p,Hb=A,Nd={}.hasOwnProperty;r.LinearGradient=function(a,b){this.type="linear-gradient";this.direction=a;this.stops=b;r._fillOffsets(b)};
r.LinearGradient.prototype.clone=function(){var a=[];this.stops.forEach(function(b){a.push([b[0],b[1]])});return new r.LinearGradient(this.direction,a)};r.RadialGradient=function(a,b,c,d){this.type="radial-gradient";this.cx=parseFloat(a);this.cy=parseFloat(b);this.r=parseFloat(c);this.stops=d};r.RadialGradient.prototype.clone=function(){var a=[];this.stops.forEach(function(b){a.push([b[0],b[1]])});return new r.RadialGradient(this.cx,this.cy,this.r,a)};r._repeat=function(a,b){for(var c=a.length,d,
e,f=[],g=0;g<b;++g)for(var h=0;h<c;++h)e=a[h].slice(0),d=100/b*g,e[1]=e[1]/b+d,f.push(e);return f};r._fillOffsets=function(a){var b,c,d=a.length-1;if(a&&a.length){a[0][1]=a[0][1]||0;a[d][1]=null==a[d][1]?100:a[d][1];b=a[0][1];for(var e=1;e<d;++e)if(a[e][1])b=parseFloat(a[e][1]);else{c=b;b=null;for(var f=e+1;f<d;++f)if(a[f][1]){b=a[f][1];break}(b=parseFloat(b))||(b=a[d][1]);for(var g=(b-c)/(f-e+1);e<f;++e)c+=g,a[e][1]=c}return a}};r.linear=function(a,b,c){var d=parseFloat(a);isNaN(d)&&(d=ig[a]);if(!Gb.isArray(b)){var a=
[],e;for(e in b)Nd.call(b,e)&&a.push([b[e],parseFloat(e)]);b=a;b.sort(function(a,b){return a[1]-b[1]})}b=b.map(function(a){return Gb.isArray(a)?[Hb.parse(a[0]),a[1]]:[Hb.parse(a)]});r._fillOffsets(b);c&&(b=r._repeat(b,c));return new r.LinearGradient(d,b,c)};r.radial=function(a,b,c,d,e){c=null==c?50:c;d=null==d?50:d;b=null==b?50:b;if(!Gb.isArray(a)){var f=[],g;for(g in a)Nd.call(a,g)&&f.push([a[g],parseFloat(g)]);a=f;a.sort(function(a,b){return a[1]-b[1]})}a=a.map(function(a){return Gb.isArray(a)?
[Hb.parse(a[0]),a[1]]:[Hb.parse(a)]});r._fillOffsets(a);e&&(a=r._repeat(a,e));return new r.RadialGradient(c,d,b,a)};r.parse=function(a){var b=a.match(/(linear)-gradient\((.+)\)$/);if(b&&"linear"===b[1])return r.parseLinearGradient(b[2]);throw Error("Invalid gradient: "+a);};var ig={top:0,right:90,bottom:180,left:270,"top left":315,"top right":45,"bottom left":225,"bottom right":135};r.parseLinearGradient=function(a){for(var b=a.match(/^\s*(?:(-?(?:[0-9]+\.)?[0-9]+)deg|to\s+((?:(?:top|bottom)\s*)?(?:left|right)|(?:top|bottom)))/)||
["",,"bottom"],c=b[1],d=b[2],e=/(?:,|^)\s*(#[0-9a-f]{3,8}|(?:hsl|rgb)a?\(.+?\)|\w+)\s*((?:[0-9]+\.)?[0-9]+%|)?/ig,f=[],a=a.slice(b[0].length);b=e.exec(a);)f.push([b[1],parseFloat(b[2])||null]);return r.linear(c||d,f)};Z.module$exports=r;Z.module$exports&&(Z=Z.module$exports);var Va={};Uc.prototype=p.mixin({destroy:function(){this.removeAllListeners();this.disconnect();this.disconnect=this.notifyRenderer=null},notify:function(a){this.emit("message",a)}},w);Va.module$exports=Uc;Va.module$exports&&(Va=
Va.module$exports);var Wa={},fe=p,jg="undefined"==typeof document?!1:"createTouch"in document;Wa.module$exports={handleSingleTouch:function(a,b,c){var d=this._getBasicEventData(a),e=d.clientX,f=d.clientY,c=c?"multi:":"",g=this._getTarget(a),h=this._getIdOfTarget(g),i=a.type,j=document.elementFromPoint(a.pageX,a.pageY),k=j?this._getIdOfTarget(j):0;d.touchId=a.identifier;d.touchIndex=a.index;switch(i){case "touchstart":b.startX=e;b.startY=f;d=Q(d);d.type=c+"pointerdown";this.emit("userevent",d,h);break;
case "touchmove":d.diffX=e-b.startX;d.diffY=f-b.startY;b.touchMoveHappened=!0;d=Q(d);d.type=c+"drag";this.emit("userevent",d,h);d=Q(d);d.type=c+"pointermove";this.emit("userevent",d,k);break;case "touchend":if(d=Q(d),d.type=c+"pointerup",this.emit("userevent",d,h),g!==j&&(d=Q(d),this.emit("userevent",d,k)),!b.touchMoveHappened)d=Q(d),d.type="click",this.emit("userevent",d,h)}},handleTouchEvent:function(a){var b=[].slice.call(a.touches),c=a.changedTouches,d=this.touchData||(this.touchData={}),e=a.type;
"touchmove"===e&&a.preventDefault();b&&b.length?(b[0].type=e,this.handleSingleTouch(b[0],d[b[0].identifier]||(d[b[0].identifier]={}),!1)):"touchend"===e&&(this.handleSingleTouch(a,{}),this.touchData={});if(c&&c.length)for(var f=0,g=c.length;f<g;++f)a=c[f],a.type=e,a.index=b.indexOf(a),this.handleSingleTouch(a,d[a.identifier]||(d[a.identifier]={}),!0)},handleEvent:function(a){var b=a.target;(b.ownerSVGElement||"svg"===b.nodeName)&&a.preventDefault();var b=this._getTarget(a),c=this._getIdOfTarget(b),
d=a.type;if(b&&b instanceof HTMLElement)for(;!b._isBSDOMElement;)b=b.parentNode;var c=c||0,e=this._getBasicEventData(a),f=e.clientX,g=e.clientY,h=this._lastEventPos||[f,g],i=this._startEventPos||[f,g];if(/^touch/.test(a.type))this.handleTouchEvent(a);else{switch(d){case "dblclick":d="doubleclick";break;case "mousewheel":e.delta=a.wheelDelta;break;case "touchend":case "mouseup":c=this._dragId;delete this._currentTouch;delete this._dragId;delete this._startEventPos;delete this._lastEventPos;d="pointerup";
break;case "touchstart":if(this._currentTouch)return;this._currentTouch=a.touches[0].identifier;case "mousedown":this._dragId=c;this._startEventPos=[f,g];d="pointerdown";break;case "touchmove":if(a.touches[0].identifier!==this._currentTouch)return;case "mousemove":(e=Q(e)).type="pointermove";this.emit("userevent",e,c);(e=Q(e)).type="multi:pointermove";this.emit("userevent",e,c);c=this._dragId;d="drag";e.diffX=f-i[0];e.diffY=g-i[1];e.deltaX=f-h[0];e.deltaY=g-h[1];a.preventDefault();break;case "keypress":d=
"key";case "keyup":case "keydown":if(b&&!b._isBSDOMElement&&document.activeElement!==document.body)return;e.keyCode=a.keyCode;e.ctrlKey=a.ctrlKey;e.altKey=a.altKey;e.metaKey=a.metaKey;e.inputValue=a.target.value}this._lastEventPos=[f,g];e.type=d;this.emit("userevent",e,c);!jg&&/drag|pointerup|pointerdown|pointermove/.test(d)&&(e=Q(e),e.type="multi:"+d,this.emit("userevent",e,c))}},_getTarget:function(a){for(a=a.target;a&&null==this._getIdOfTarget(a);)a=a.parentNode;return a},_getIdOfTarget:function(a){a=
a&&a.getAttribute&&a.getAttribute("data-bs-id");return null==a?null:+a},_getBasicEventData:function(a){var b=this.getOffset(),c=a.clientX||a.touches&&a.touches.length&&a.touches[0].clientX||0,a=a.clientY||a.touches&&a.touches.length&&a.touches[0].clientY||0,d=c-b.left,b=a-b.top;return{stageX:d,stageY:b,x:d,y:b,clientX:c,clientY:a}}};Wa.module$exports&&(Wa=Wa.module$exports);var Xa={},kg=A,Od={blur:function(a){return t("feGaussianBlur",{stdDeviation:a})},brightness:function(a){var b=t("feComponentTransfer");
["R","G","B"].forEach(function(c){t("feFunc"+c,{type:"linear",slope:a},b)});return b},contrast:function(a){var b=-(0.5*a+0.5),c=t("feComponentTransfer");["R","G","B"].forEach(function(d){t("feFunc"+d,{type:"linear",slope:a,intercept:b},c)});return c},dropShadowByAngle:function(a){var b=a[0],c=a[1];return this.dropShadowByOffset([c*Math.cos(b),c*Math.sin(b),a[2],a[3]])},dropShadowByOffset:function(a){var b=a[0],c=a[1],d=a[2],e=kg(a[3]),a=[],d=t("feGaussianBlur",{stdDeviation:d});a.push(d);b=t("feOffset",
{dx:b,dy:c,result:"offsetblur"});a.push(b);b=t("feFlood",{"flood-color":e.rgb(),"flood-opacity":e.alpha(),result:"flood"});a.push(b);b=t("feComposite",{in2:"offsetblur",operator:"in"});a.push(b);b=t("feMerge");t("feMergeNode",null,b);t("feMergeNode",{"in":"SourceGraphic"},b);a.push(b);return a},grayscale:function(a){a=Math.min(1,Math.max(0,a));return Od.saturate(a)},hueRotate:function(a){a=Math.min(360,Math.max(0,a));return t("feColorMatrix",{type:"hueRotate",values:a})},invert:function(a){var a=
Math.min(1,Math.max(0,a)),b=1-a,c=t("feComponentTransfer");["R","G","B"].forEach(function(d){t("feFunc"+d,{type:"table",tableValues:a+" "+b},c)});return c},opacity:function(a){var a=Math.min(1,Math.max(0,a)),b=t("feComponentTransfer");t("feFuncA",{type:"table",tableValues:"0 "+a},b);return b},saturate:function(a){return t("feColorMatrix",{type:"saturate",values:1-a})},sepia:function(a){a=Math.min(1,Math.max(0,a));a=1-a;return t("feColorMatrix",{type:"matrix",values:[0.393+0.607*a,0.769-0.769*a,0.189-
0.189*a,0,0,0.349-0.349*a,0.686+0.314*a,0.168-0.168*a,0,0,0.272-0.272*a,0.534-0.534*a,0.131+0.869*a,0,0,0,0,0,1,0].join(" ")})},colorMatrix:function(a){return t("feColorMatrix",{type:"matrix",values:a.join(" ")})}};Xa.module$exports={create:function(a,b){return Od[a](b)},isFEColorMatrixEnabled:"undefined"!==typeof window&&"SVGFEColorMatrixElement"in window};Xa.module$exports&&(Xa=Xa.module$exports);var Ya={},vc=p;Vc.prototype=vc.mixin({MessageChannel:Va,destroy:function(){this.notifyRunner({command:"freeze"});
this.messageChannel.destroy();delete this.messageChannel;this.removeAllListeners();var a=this.frame;a.contentDocument.documentElement.innerHTML="";a.parentNode.removeChild(a);delete this.frame},init:function(){var a=this.doc||document,b=this.frame=a.createElement("iframe");(a.body||a.documentElement).appendChild(b);b.style.display="none";a=b.contentWindow;b=b.contentDocument;b.open();var c=window.define,d=window.require;c&&c.amd&&(a.define=c,d&&(a.require=d));this.messageChannel=a.messageChannel=
new this.MessageChannel(vc.hitch(this,this.notify),function(){});b.write('<script src="'+this.runnerUrl+'"><\/script>');b.close();this.doc=this.init=null;return this},notify:function(a){this.emit("message",a)},notifyRunner:function(a){this.messageChannel.notify(a)},notifyRunnerAsync:function(a){setTimeout(vc.hitch(this,this.notifyRunner,a),1)}},w);Ya.module$exports=Vc;Ya.module$exports&&(Ya=Ya.module$exports);var Za={},Ib=p,lg=w,mg=Wc.prototype={fromCode:function(a,b,c){this._movieOptions=c=this._getRunnerOptions(c);
c.code=a;c.url=this.baseUrl.resolveUri(b).toString();return this._init()},fromUrl:function(a,b){this._movieOptions=b=this._getRunnerOptions(b);b.url=this.baseUrl.resolveUri(a).toString();return this._init()},_getRunnerOptions:function(a){a||(a={});var b=this.baseUrl.resolveUri(a.pluginUrl||"").toString(),c=this.renderer;return{framerate:+a.framerate||void 0,pluginDebug:!!a.pluginDebug,plugins:a.plugins,pluginUrl:b,width:c.width,height:c.height}},destroy:function(){this.renderer.destroy();delete this.renderer;
this.runner.destroy();delete this.runner;return this},debug:function(a){console.log.apply(console,["WORKER DEBUG:"].concat(a))},freeze:function(){return this.post("freeze")},handleEvent:function(a){var b=a.data;switch(a.command){case "init":"listening"===b&&(this.isRunnerListening=!0,this._init());break;case "render":this.currentFrame=a.frame;this.renderer.render(b);break;case "renderConfig":this.renderer.config(b);break;case "play":case "stop":case "freeze":case "unfreeze":this.emit(a.command,b);
break;case "debug":this.debug(b);break;case "loadAsset":this.assetController.load(b);break;case "message":this.emit("message",b)}},_init:function(){var a=this._movieOptions,b=a&&(a.code||a.url);if(this.isRunnerListening&&(this.isReady||(this._sendEnvData(),this.isReady=!0),b)){var c=this,b=Ib.hitch(this,function(){this.renderer.on("canRender",Ib.hitch(this,this.postAsync,"canRender"));c.post("run",c._movieOptions);delete c._movieOptions});(a=a.assets)?(this.assetController.preload(a,b),a=null):b()}return this},
play:function(a){return this.post("play",a)},post:function(a,b){this.runner.notifyRunner({command:a,data:b});return this},postAsync:function(a,b){this.runner.notifyRunnerAsync({command:a,data:b});return this},_sendEnvData:function(){if(!this._isEnvSenderSetup){var a=Ib.hitch(this,this._sendEnvData);window.addEventListener("resize",a,!1);window.addEventListener("scroll",a,!1);this._isEnvSenderSetup=!0}a=this.renderer.getOffset();this.post("env",{windowHeight:window.innerHeight,windowWidth:window.innerWidth,
windowScrollX:Math.max(document.body.scrollLeft,document.documentElement.scrollLeft),windowScrollY:Math.max(document.body.scrollTop,document.documentElement.scrollTop),offsetX:a.left,offsetY:a.top})},sendMessage:function(a){return this.post("message",a)},stop:function(a){return this.post("stop",a)},unfreeze:function(){return this.post("unfreeze")}};Ib.mixin(mg,lg);Za.module$exports=Wc;Za.module$exports&&(Za=Za.module$exports);var xa={},Pd=Math.round;xa.module$exports=p.mixin({currentFrame:0,isPlaying:!0,
advance:function(){var a=null==this._length?Infinity:this._length,b=this.currentFrame;this.emit("tick",this,b);this.isPlaying&&(a=(b+1)%a||0,this.emit("advance",this,b,0===a),this.emit(b+"",this,b),this.currentFrame=a)},frames:function(a){var b,c,d=0;for(c in a)b=+c,b!=c&&(b=this.toFrameNumber(c)),b>d&&(d=b),this.on(b,a[c]);d>this.length()&&(this._length=d+1);return this},length:function(a){var b=this._length||(this._length=0);if(!arguments.length)return b;for(a*=1;b-- >=a;)this.removeAllListeners(b);
this._length=a;return this},play:function(a){a*=1;this.isPlaying=!0;0<=a&&(this.currentFrame=a,this.emit(a+"",this,a));return this},stop:function(a){a*=1;this.isPlaying=!1;0<=a&&a<this.length()&&(this.currentFrame=a,this.emit(a+"",this,a));return this},toFrameNumber:function(a){if(a==+a)return+a;if("from"==a||"start"==a)return 0;if("to"==a||"end"==a)return this._length;a=/^([\d.]+)(\D+)$/.exec(a)||[];switch(a[2]){case "ms":a[1]/=1E3;case "s":return Pd(a[1]*(this.framerate||this.root.framerate));case "%":return Pd(this._length*
a[1]/100)||0;default:throw Error("Unknown frame format: "+a[2]);}}},w);xa.module$exports&&(xa=xa.module$exports);var ja={},ge=ua,Jb=p,ng=w,og=Pa,pg=Qa,qg=Ua,rg=Cb,ya=Jb.mixin,za=pa.propertyTranslations={};ya(za,og);ya(za,pg);ya(za,qg);ya(za,rg);pa.prototype={_bind:function(){var a=this,b=this.options;this.frame=0;var c;this.onStep=function(b,e,f){c=c||e;var b=a.duration,g=a.frame=a.isTimelineBound?a.frame+(e-c)||1:a.frame+1;a.step(g/b);a.isTimelineBound&&f||g===b?(c=0,a.reset(),0<a.repeat--?a.play():
a.emit("end",a.subject,a)):c=e};b.subjects&&this.setSubjects(b.subjects,b.strategy)},_getTranslations:function(){for(var a=this.propertyNames,b,c=0,d=a.length;c<d;c++)if(a[c]in za){b=za[a[c]];if(!("function"==typeof b.step&&"function"==typeof b.setupFrom&&"function"==typeof b.setupTo||"function"==typeof b.setup))throw Error("Translation does not implement setup (or setupFrom & setupTo) and step methods.");this.translations.push({methods:b,data:this._translationData[a[c]]={}})}},_runTranslations:function(a,
b){for(var c,d,e=this.translations.length;e--;)c=this.translations[e],d="setupFrom"===b||"setupTo"===b?c.methods[b]||c.methods.setup:c.methods[b],d.call(c.data,a)},play:function(a,b){a&&this.addSubjects(a,b);if(!this.subjects)throw Error("Unspecified subjects.");if(this.isPlaying)return this;this.clock.on(this.isTimelineBound?"advance":"tick",this.onStep);0===this.frame&&this.emit("beforebegin",this);this.emit("play",this);this.isPlaying=!0;return this},pause:function(){this.clock.removeListener(this.isTimelineBound?
"advance":"tick",this.onStep);this.emit("pause",this);this.isPlaying=!1},clone:function(){var a={clock:this.clock,duration:this.duration,easing:this.easing,isTimelineBound:this.isTimelineBound};return new pa(this.clock,this.duration,ya({},this.properties),a)},_parseEventProps:function(a){var b,c;for(b in a)0==b.indexOf("on")&&(c=b.slice(2).toLowerCase(),this.on(c,a[b]),delete a[b])},reset:function(){this.frame=0;this.isPlaying=!1;this.clock.removeListener(this.isTimelineBound?"advance":"tick",this.onStep);
return this},addSubject:function(a,b){var c=this.propertyNames,d,b=b||this.strategy||"attr";switch(b){case "attr":d=a.attr();break;case "prop":d={};for(var e=0,f;f=c[e++];)d[f]=a[f];break;default:d=b.get(a,this.propertyNames)}this._runTranslations(d,"setupFrom");a.id in this.subjectsById||(this.subjectsById[a.id]=!0,this.subjects.push({subject:a,strategy:b,values:d}));return this},addSubjects:function(a,b){var c=this,a=Jb.isArray(a)?a:[a];a.forEach(function(a){c.addSubject(a,b)});return this},removeSubject:function(a){if(a.id in
this.subjectsById){for(var b=0,c=this.subjects.length;b<c;++b)if(this.subjects[b].subject===a){this.subjects.splice(b,1);break}delete this.subjectsById[a.id]}},removeSubjects:function(a){a.forEach(Jb.hitch(this,"removeSubject"));return this},setSubjects:function(a,b){a=Jb.isArray(a)?a:[a];this.removeSubjects(this.subjects.map(function(a){return a.subject}));this.addSubjects(a,b);return this},setSubject:function(a,b){this.removeSubjects(this.subjects.map(function(a){return a.subject}));this.addSubject(a,
b);return this},step:function(a){var b,c,d,e,f,g,h="attr"===b,i=!!this.translations.length;b=this.easing;var j=this.properties,k=this.propertyNames,l=k.length,m=this.subjects,n={};b&&(a=b(a));for(var o=0,p=m.length;o<p;++o){e=m[o].values;c=m[o].subject;b=m[o].strategy;for(var q=c._attributes,r=0;r<l;++r)f=k[r],d=e[f],g=j[f],!i&&h?q[f]=d+(g-d)*a:n[f]=d+(g-d)*a;if(!i&&h)c.markUpdate();else if(this._runTranslations(n,"step"),"attr"===b)c.attr(n);else if("prop"===b)for(r=0;r<l;++r)f=k[r],c[f]=n[f];else b.set(c,
n)}return this}};ya(pa.prototype,ng);ja.module$exports=pa;ja.module$exports&&(ja=ja.module$exports);var Aa={},sg=ja,Kb=p,tg=w,wc={}.hasOwnProperty;ac.prototype={play:function(a,b){a&&this.setSubjects(a,b);if(0>this.currentAnimation)this.begin();else return this.animations[this.currentAnimation].isPlaying=!0,this},pause:function(){-1<this.currentAnimation&&(this.animations[this.currentAnimation].isPlaying=!1);return this},reset:function(){this.animations.forEach(function(a){a.reset()});this.currentAnimation=
-1;return this},begin:function(){var a=this.keyframes[0],b=this.subjects,c,d;if(a&&b.length)for(var e=0,f=b.length;e<f;++e)switch(d=b[e],c=d.strategy,d=d.subject,c){case "attr":d.attr(a);break;case "prop":for(e in a)d[e]=a[e];break;default:c.set(d,a)}this.currentAnimation=0;this.subjects.forEach(function(a){this.animations[0].addSubject(a.subject,a.strategy)},this);this.animations[0].play();return this},addSubject:function(a,b){b=b||this.strategy||"attr";if(null==this.initialValues)switch(b){case "attr":this.initialValues=
a.attr();break;case "prop":var c=Object.keys(a);this.initialValues={};for(var d=0,e;e=c[d++];)this.initialValues[e]=a[e];break;default:this.initialValues=b.get(a,this.propertyNames)}this.subjects.push({subject:a,strategy:b});if(this.animations.length){c=0;for(d=this.animations.length;c<d;++c)this.animations[c].addSubject(a,b)}else this._fillInProperties(),this._createAnimations();return this},addSubjects:function(a,b){var c=this,a=Kb.isArray(a)?a:[a];a.forEach(function(a){c.addSubject(a,b)});return this},
removeSubject:function(a){for(var b=0,c=this.subjects.length;b<c;++b)if(this.subjects[b].subject===a){this.subjects.splice(b,1);for(var d=0,e=this.animations.length;d<e;++d)this.animations[d].removeSubject(a)}},removeSubjects:function(a){a.forEach(Kb.hitch(this,"removeSubject"));return this},setSubjects:function(a,b){a=Kb.isArray(a)?a:[a];this.removeSubjects(this.subjects.map(function(a){return a.subject}));this.addSubjects(a,b);return this},setSubject:function(a,b){this.removeSubjects(this.subjects.map(function(a){return a.subject}));
this.addSubject(a,b);return this},_createAnimations:function(){var a,b=0,c,d=this.animations,e=this.keyframes;this.keys.forEach(function(f,g){var h;if(0!==f){a=f-b;b+=a;h=new sg(this.clock,a,e[f],{easing:this.easing,strategy:this.strategy});if(c)c.on("end",this,function(){this.currentAnimation++;this.subjects.forEach(function(a){h.addSubject(a.subject,a.strategy)},this);h.play()});d.push(h);c=h;if(g==this.keys.length-1)h.on("end",this,function(){Infinity===this.repeat||0<--this.repeat?(this.reset(),
this.play()):this.emit("end",this.subjects)})}},this)},_fillInProperties:function(){var a=this.initialValues,b=this.duration,c=this.keys,d=this.keyframes,e,f={};c.forEach(function(a){e=d[a];for(var b in e)e.hasOwnProperty(b)&&(f[b]=!0)});c.forEach(function(g,h){var i,j,k,l,m;e=d[g];for(m in f)if(!wc.call(e,m)){a:{i=m;for(j=h;j--;)if(wc.call(d[c[j]],i)){i=c[j];break a}i=null}a:{j=m;k=h;for(l=c.length;k<l;++k)if(wc.call(d[c[k]],j)){j=c[k];break a}j=null}k=i&&d[i][m]||a[m];l=j&&d[j][m];if(null==k)throw Error("No initial value specified for property: "+
m);null==l&&(l=k,j=b);e[m]=l*(g-i)/(j-i)}})},_convertKeysToFrames:function(a){for(var b,c,d=0,e=this.clock,f=this.duration,g=Object.keys(a),h=Object.create(null),i=0,j=g.length;i<j;i++)b=g[i],c=b==+b?b:"from"==b?0:"to"==b?f:/^\d+%$/.test(b)?f*parseFloat(b)/100:e.toFrameNumber(b),h[c]=a[b],c>d&&(d=c);d>this.duration&&(this.duration=d);return h}};Kb.mixin(ac.prototype,tg);Aa.module$exports=ac;Aa.module$exports&&(Aa=Aa.module$exports);var M={},ug=w,qa=p,Ie=va,Ke=S,Qd=ja,vg=Aa,Yc=ia,F=qa.descriptorAccessor,
G=qa.descriptorData,wg=qa.getter,He=1,Xc=Math.atan2,je=Math.PI,bc=isFinite,Je=wg("_opacity");E.registerOffStageObj=function(a,b,c,d,e){if(c&&(b.stage=c,c.registry.needsDraw[b.id]=b,c.registry.needsInsertion[b.id]=b,c.registry.displayObjects[b.id]=b,b._activate(c),e||(b.parent=c,b._offStageUseCount=b._offStageUseCount?b._offStageUseCount+1:1,a.once("removedFromStage",function(){1===b._offStageUseCount?E.unregisterOffStageObj(a,b,!0):b._offStageUseCount--})),b._offStageType=d,b._children))for(var e=
0,f=b._children.length;e<f;++e){var g=b._children[e];g&&E.registerOffStageObj(a,g,c,d,!0)}};E.unregisterOffStageObj=function(a,b,c){if(!c){if(0<--b._offStageUseCount)return;delete b._offStageUseCount}c=b.stage;b.emit("removedFromStage");c.registry.needsDraw[b.id]=b;delete c.registry.needsInsertion[b.id];delete c.registry.displayObjects[b.id];delete b.stage;b.markUpdate("shapeData");delete b._offStageType;if(b._children)for(var c=0,d=b._children.length;c<d;++c){var e=b._children[c];e&&E.unregisterOffStageObj(a,
e,!0)}};var xg=E.prototype={parent:null,type:"DisplayObject",_activate:function(a){this.stage=a;this._mutatedAttributes=qa.mixin({},this._renderAttributes);var b=this._attributes,c=b._clip;c&&E.registerOffStageObj(this,c,a,"clip");(b=b._mask)&&E.registerOffStageObj(this,b,a,"mask");this.emit("addedToStage")},_deactivate:function(){delete this.stage;this.emit("removedFromStage")},attr:function(a,b){var c,d,e=this._attributes;switch(arguments.length){case 0:c={};for(d in e)"_"!=d.charAt(0)&&(c[d]=e[d]);
return c;case 1:if("string"==typeof a)return a in e&&"_"!=a.charAt(0)?e[a]:void 0;for(d in a)d in e&&"_"!=d.charAt(0)&&(e[d]=a[d],this._mutatedAttributes[d]=!0);break;case 2:a in e&&"_"!=a.charAt(0)&&(e[a]=b,this._mutatedAttributes[a]=!0)}this.markUpdate();return this},getComputed:function(a){var b={top:0,right:0,bottom:0,left:0,width:0,height:0};return"size"===a?b:b[a]},destroy:function(){return this.removeAllListeners().remove()},mask:function(){},blendMode:function(){},markUpdate:function(){var a=
this.stage;a&&(a.registry.needsDraw[this.id]=this);return this},addTo:function(a,b){a.addChild(this,b);return this},addAfter:function(a){var b=a.parent;b.addChild(this,b.getIndexOfChild(a)+1);return this},addBefore:function(a){var b=a.parent;b.addChild(this,b.getIndexOfChild(a));return this},remove:function(){var a=this.parent;a&&a.removeChild(this);return this},setOrigin:function(a,b){return this.attr("origin",{x:a,y:b})},composeRenderMessage:function(a){a||(a={attributes:{},id:this.id});var b=a.attributes||
{},c=this._mutatedAttributes,d=this._renderAttributes,e=this._attributes,f;for(f in c)f in d&&(b[f]=e[d[f]]);this._mutatedAttributes={};a.attributes=b;a.data=this._getRenderData&&this._getRenderData();a.type=this.type;a.offStageType=this._offStageType;return a},animate:function(a,b,c){var d=a;if(!(d instanceof Qd||d instanceof vg)){d=c&&c.clock||this.stage;c||(c={});if(!d)for(d=this;d&&!d.advance;)d=d.parent;if(!d)return this;d=new Qd(d,a,b,c)}d.play(this);return this}};qa.mixin(xg,ug);M.module$exports=
E;M.module$exports&&(M=M.module$exports);var $={},Zc=M,yg=ha,zg=p,xc=cc.prototype=Object.create(Zc.prototype);zg.mixin(xc,yg);xc.type="Group";xc.clone=function(a){var b=new cc;a.attributes&&b.attr(this.attr());this.children().forEach(function(c){c.clone&&b.addChild(c.clone(a))},this);return b};$.module$exports=cc;$.module$exports&&($=$.module$exports);var $a={},dc=$,ka=$c.prototype=Object.create(dc.prototype);ka.getAttribute=function(a){return this._domAttributes[a]};ka.getStyle=function(a){return this._cssStyles[a]};
ka.setAttribute=function(a,b){this._domAttributes[a]=b;this._mutatedDomAttributes[a]=!0;this.markUpdate();return this};ka.setAttributes=function(a){for(var b in a)this.setAttribute(b,a[b]);return this};ka.setStyles=function(a){for(var b in a)this.setStyle(b,a[b]);return this};ka.setStyle=function(a,b){this._cssStyles[a]=b;this._mutatedCssStyles[a]=!0;this.markUpdate();return this};ka.composeRenderMessage=function(a){var a=dc.prototype.composeRenderMessage.call(this,a),b,a=a.attributes,c=this._cssStyles,
d=this._domAttributes,e=this._mutatedDomAttributes,f=this._mutatedCssStyles;a.nodeName=this.nodeName;for(b in e)a["dom_"+b]=d[b];for(b in f)a["css_"+b]=c[b];this._mutatedCssStyles={};this._mutatedDomAttributes={};return{id:this.id,attributes:a,data:this._getRenderData&&this._getRenderData(),type:this.type,offStageType:this._offStageType}};$a.module$exports=$c;$a.module$exports&&($a=$a.module$exports);var ab={},bd=M,Ag=ha,Bg=xa,Rd=ad.prototype=p.mixin(Object.create(bd.prototype),Bg,Ag);Rd.loadSubMovie=
function(){return this.root.loadSubMovie.apply(this.root,arguments)};Rd.type="Movie";ab.module$exports=ad;ab.module$exports&&(ab=ab.module$exports);var bb={},Cg=M,yc=p,Dg=w,P=Function("return this")();ec.prototype={load:function(a,b){function c(c){var g=a[c];if(b)if("undefined"!=typeof document){var h=document.createElement("script");h.src=g;h.onload=function(){d(c)};document.head.appendChild(h)}else importScripts.apply(this,a),e();else{var l=new XMLHttpRequest;l.open("GET",g);l.onload=function(){if(200<=
l.status||300>l.status||304==l.status)f[c]=l.responseText,d(c);else throw Error("Could not load plugin: (status "+l.status+") "+g);};l.send()}}function d(d){if(++g===a.length){if(!b)for(d=0;d<g;++d)Function(f[d])();e()}else a[d+1]&&c(d+1)}function e(){h.waiting||h.emit("complete")}var f=[],g=0,h=this;c(0)},setGlobals:function(){var a=this;P.plugin=function(b){if(b=b(P.bikeshed))for(var c in b)a.exports[c]=b[c]};P.pluginWait=function(){a.waiting++};P.pluginDone=function(){a.waiting--;0>=a.waiting&&
a.emit("complete")};this.exports=P.exports||(P.exports={});P.bikeshed=yc.mixin({},this.env.exports);P.bikeshed.tools=yc;P.bikeshed.DisplayObject=Cg;P.bikeshed.stage=this.stage}};yc.mixin(ec.prototype,Dg);bb.module$exports=ec;bb.module$exports&&(bb=bb.module$exports);var Ba={},ed=M,Pe=Z,Ga=p,ra=Ga.descriptorAccessor,D=Ga.descriptorData,Eg=Ga.getter,cd=A.parse,Xe=Eg("_textLineColor"),zc=dd.prototype=Object.create(ed.prototype);zc.type="TextSpan";zc.setText=function(a){return this.attr("text",a)};zc.getText=
function(){return this.attr("text")};Ba.module$exports=dd;Ba.module$exports&&(Ba=Ba.module$exports);var cb={},hd=$,fc=Ba,bf=Z,Lb=p,W=Lb.descriptorAccessor,B=Lb.descriptorData,Mb=Lb.getter,fd=A.parse,nf=Mb("_textLineColor"),lf=Mb("_cap"),mf=Mb("_join"),of=Mb("_miterLimit"),Sd=hd.prototype,Nb=gd.prototype=Object.create(Sd);Nb.addChild=function(a,b){if(!(Lb.isArray(a)?a.every(function(a){return a instanceof fc}):a instanceof fc))throw TypeError("child is not a TextSpan instance/an array of TextSpans");
return Sd.addChild.apply(this,arguments)};Nb.type="Text";Nb.setText=function(a){return this.attr("text",a)};Nb.getText=function(){return this.attr("text")};cb.module$exports=gd;cb.module$exports&&(cb=cb.module$exports);var db={},qf={mouseover:!0,mouseout:!0,mousewheel:!0,pointerup:!0,pointerdown:!0,pointermove:!0,click:!0,doubleclick:!0,"multi:pointerdown":!0,"multi:pointermove":!0,"multi:pointerup":!0};db.module$exports=function(a){a.emitOn=pf;a.stop=rf;return a};db.module$exports&&(db=db.module$exports);
var la={};X.parse=function(a){a=/^(?:([a-z][a-z0-9+.-]*):)?(?:\/\/([^/#?]*))?([^?#]*)(?:[?]([^#]*))?(?:#(.*))?/.exec(a);return!a?a:new X(a[1],a[2],a[3],a[4],a[5])};X.prototype={isAbsolute:function(){return void 0!==this.authority||"/"===this.path.charAt(0)},resolvePath:function(a){a="/"===a.charAt(0)?a:this.path.replace(/[/]+[^/]*$/,"/")+a;return(new X(this.scheme,this.authority,a)).toString()},resolveUri:function(a){a instanceof X||(a=X.parse(a));var b=a.scheme||this.scheme,c=a.authority||this.authority,
d="/"===a.path.charAt(0)?a.path:this.path.replace(/[/]+[^/]*$/,"/")+a.path;return new X(b,c,d,a.query,a.fragment)},toString:function(){var a=this.path;this.authority&&(a="//"+this.authority+a);this.scheme&&(a=this.scheme+":"+a);this.query&&(a+="?"+this.query);this.fragment&&(a+="#"+this.fragment);return a}};la.module$exports=X;la.module$exports&&(la=la.module$exports);var eb={},Fg=la;eb.module$exports=function(a){var b,c;if(!a)throw Error("AssetResource needs at least a valid url as parameter.");
"string"==typeof a?b=a:(b=a.src,c=a.type);if(!b||"string"!=typeof b)throw Error("AssetResource: src parameter invalid: "+b);this.src=b;c&&"string"===typeof c?this.type=c:(a=Fg.parse(b),this.type=(a.path.match("data"===a.scheme?/^(\w+\/\w+);/:/\.([^.]+)$/)||[,null])[1]);if(!this.type)throw Error("Cannot determine type of resource with src: "+b);};eb.module$exports&&(eb=eb.module$exports);var U={},Ob=eb,Ac=p,Td=Ac.isArray;U.module$exports=function(a){var b,c;if(!a)throw Error("AssetRequest needs at least a valid url.");
c=a.resources;b=a.loadLevel;if("string"===typeof a)c=[new Ob(a)];else if(Td(a))c=Ac.map(a,function(a){return new Ob(a)});else if(c&&c.src||"string"===typeof c)c=[new Ob(c)];else if(Td(c)&&c.length)c=Ac.map(c,function(a){return new Ob(a)});else throw Error("resources are not valid.");this.resources=c;this.id=a.id;this.loadLevel=b||null};U.module$exports&&(U=U.module$exports);var aa={},id=U,Gg=w,sa=p;wb.DEFAULT_TIMEOUT=1E4;var Hg=wb.prototype={load:function(){this.initTimeout();sa.forEach(this.resources,
function(a){this.loadResource(a,this.resourceLoadSuccess,this.resourceLoadError)},this)},initTimeout:function(){this._timeoutID=setTimeout(sa.hitch(this,function(){this.resourcesLoaded<this.resourcesExpectedLength&&this.resourceLoadError("Timeout error when trying to load resources")}),this.timeoutDuration)},registerElement:function(a){this.emit("registerElement",a)},resourceLoadSuccess:function(a){sa.mixin(this.assetData,a);if((this.resourcesLoaded+=1)===this.resourcesExpectedLength)clearTimeout(this._timeoutID),
this.emit("resourcesLoaded"),this.emit("load",this.assetData)},resourceLoadError:function(a){clearTimeout(this._timeoutID);this.emit("error",a)}};sa.mixin(Hg,Gg);aa.module$exports=wb;aa.module$exports&&(aa=aa.module$exports);var fb={},kd=aa;(jd.prototype=Object.create(kd.prototype)).loadResource=function(a,b,c){var d=new Image;this.registerElement(d);d.onload=function(){b({width:d.width,height:d.height})};d.onerror=function(){c("Could not load image")};d.src=a.src;if(d.complete)d.onload()};fb.module$exports=
jd;fb.module$exports&&(fb=fb.module$exports);var Ca={},ld=aa;gc.prototype=Object.create(ld.prototype);gc.prototype.loadResource=function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a.src,!0);d.send(null);d.onreadystatechange=function(){4==d.readyState&&(200<=d.status||300>d.status||304==d.status)?b(d.responseText):404===d.status&&c(d.status)}};Ca.module$exports=gc;Ca.module$exports&&(Ca=Ca.module$exports);var gb={},md=aa,Ig=Ca,Jg=p,Ud=O.mimeToFormat={"application/x-font-woff":"woff","font/opentype":"opentype",
"image/svg+xml":"svg","application/x-font-ttf":"ttf","application/vnd.ms-fontobject":"eot"},Kg=O.formatToMime={eot:"application/vnd.ms-fontobject",woff:"application/x-font-woff",opentype:"font/opentype",otf:"font/opentype",svg:"image/svg+xml",ttf:"application/x-font-ttf"},Bc;O.fontIDs={};O.prefix="bs_"+(new Date).getTime()+"_";O.prototype=Object.create(md.prototype);O.prototype.loadResource=function(a,b,c){var d=this,e=a.src;/^data:/.test(e)?b(e):(new Ig(e)).on("load",function(){var c=a.type in Ud?
Ud[a.type]:a.type in Kg?a.type:"";if(!c)throw Error("Resource type of "+a.type+" is not supported by the Font type handler");d.fontFormats.push({uri:e,format:c});b()}).on("error",function(){c("Cannot load font: "+e)}).load()};O.prototype.applyFontFace=function(a,b){a=this.fontId;b=this.fontFormats;Bc||(Bc=(document.getElementsByTagName("head")||[document.body])[0].appendChild(document.createElement("style")));var c,d,e=[],f="";Jg.forEach(b,function(a){d=a.uri;c=a.format;"eot"===c?f='url("'+d+'") format("'+
c+'")':e.push('url("'+d+'") format("'+c+'")')});Bc.appendChild(document.createTextNode('@font-face {font-family: "'+a+'";\n'+(f?"src: "+f+";\n":"")+(e.length?'src: local("\u263a"), '+e.join(",\n")+";\n":"")+"}"))};gb.module$exports=O;gb.module$exports&&(gb=gb.module$exports);var hb={},nd=aa,Lg="undefined"!==typeof document&&document.createElement?document.createElement("video"):0,Mg={"start-with-nothing":"loadstart",metadata:"loadedmetadata","risky-to-play":"loadeddata","can-play":"canplay","can-play-through":"canplaythrough"};
hc.prototype=Object.create(nd.prototype);hc.prototype.loadResource=function(a,b,c){var d,e=this.id,f=this.request.loadLevel||"can-play",g=a.type,a=a.src;!Lg.canPlayType(g)||this.hasInitiatedLoad?this.resourcesExpectedLength--:(this.hasInitiatedLoad=!0,d=document.createElement("video"),d.setAttribute("id",e),d.setAttribute("type",g),d.src=a,this.registerElement(d),d.addEventListener(Mg[f],function(){b({width:d.videoWidth,height:d.videoHeight})},!1),d.addEventListener("error",function(){c("Could not load video.")},
!1),d.addEventListener("ended",function(){},!1),d.addEventListener("play",function(){},!1),d.addEventListener("pause",function(){},!1))};hb.module$exports=hc;hb.module$exports&&(hb=hb.module$exports);var Da={},Cc=p,Ng=U,Og=w,Pg=gb,Qg=hb,Rg=fb,Sg=Ca;ea.assets={};ea.hasVideoSupport=function(){return!!domVideo.canPlayType};var Vd=ea.handlers={Bitmap:Rg,Font:Pg,Video:Qg,Raw:Sg};ea.prototype={load:function(a,b,c){var b=b||"assetLoadSuccess",c=c||"assetLoadError",d=a.type;if(d in Vd)(new Vd[d](a.request,
a.id)).on("registerElement",function(b){ea.assets[a.id]=b}).on("load",this,function(c){this.emit(b,Cc.mixin(a,c))}).on("error",this,function(b){a.err=b;this.emit(c,a)}).load();else throw Error("Type not found in AssetController.handlers: "+d);},preload:function(a,b){a=Cc.isArray(a)?a:[a];a.length||b();var c,d,e,f,g=0,h=0,i=this.preloadID?++this.preloadID:this.preloadID=1;this.on("_preloadedAssetLoadSuccess",function(a){0==a.id.indexOf(i+"__")&&h++;h==g&&b()});this.on("_preloadedAssetLoadError",function(){});
c=0;for(d=a.length;c<d;c++)if(f=a[c],e=new Ng(f),f=e.type||f.type)g++,this.load({request:e,type:f,id:i+"__"+c},"_preloadedAssetLoadSuccess","_preloadedAssetLoadError")}};Cc.mixin(ea.prototype,Og);Da.module$exports=ea;Da.module$exports&&(Da=Da.module$exports);var ma={},od=M,Tg=U,Dc=p,xb=Dc.descriptorData,tf=Dc.descriptorAccessor,uf=Dc.getter("_source"),Pb=ic.prototype=Object.create(od.prototype);Pb.request=function(a){if("undefined"===typeof a)return this._request;this._loader.request(this,this._request=
new Tg(a),this.type)};Pb.clone=function(){return new ic(this._loader,this.attr("source"))};Pb.notify=function(a,b){switch(a){case "load":this._attributes._naturalWidth=b.width;this._attributes._naturalHeight=b.height;this._mutatedAttributes.naturalWidth=!0;this._mutatedAttributes.naturalHeight=!0;this.emit("load",this);this.markUpdate();break;case "error":this.emit("error",Error(b.error),this)}return this};Pb.getComputed=function(a){var b,c="size"===a&&{top:0,right:0,bottom:0,left:0};"width"===a||
"right"===a?b=this.attr("width")||0:c&&(c.right=c.width=this.attr("width")||0);"height"===a||"bottom"===a?b=this.attr("height")||0:c&&(c.bottom=c.height=this.attr("height")||0);if("top"===a||"left"===a)b=0;return c||b};ma.module$exports=ic;ma.module$exports&&(ma=ma.module$exports);var ib={},Ug=U,Wd=pd.prototype=Object.create(w);Wd._load=function(){this._loader.request(this,new Ug({id:this.fontId,resources:this.resources}),"Font")};Wd.notify=function(a,b){switch(a){case "load":this.emit("load",this);
break;case "error":this.emit("error",Error(b.error),this)}return this};ib.module$exports=pd;ib.module$exports&&(ib=ib.module$exports);var jb={},Vg=w,Qb=p,Ea=A,Wg=wa,Xd=Xa,kb=Oa,Xg=Wa,Rb=Da,qd={},Yg=/Version\/5\.1(\.[0-4])? /.test(navigator.appVersion),Sb=kb.cssClasses,Yd=kb.matrixToString,Zg=kb.gradientToSignature,$g=kb.filterToSignature,Zd=kb.valueFromSignatureForType,ah=Wg.exportToPath,Tb=Xd.isFEColorMatrixEnabled,bh=Rb.handlers.Font.fontIDs,ch=Rb.handlers.Font.prefix,Ec={cap:"stroke-linecap",join:"stroke-linejoin",
miterLimit:"stroke-miterlimit",opacity:"opacity",fillOpacity:"fill-opacity",lineOpacity:"stroke-opacity",fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style",textAnchor:"text-anchor",text:"text",cursor:"cursor"},rd="dblclick,click,mouseenter,mouseleave,mouseover,mouseout,mouseup,mousedown,touchstart,touchend,mousemove,touchmove,mousewheel".split(",");jc.prototype={attr:function(a,b){var c,d;for(d in b)if(c=b[d],d in Ec)null!=c?a.setAttribute(Ec[d],c):null===c&&a.removeAttribute(Ec[d]);
else switch(d){case "fontFamily":c=bh[c]||c;null!=c?a.setAttribute("font-family",c):null===c&&a.removeAttribute("font-family");break;case "lineWidth":a.setAttribute("stroke-width",c);0>=c?(c=a.getAttribute("stroke"))&&a.setAttribute("data-stroke",c):"lineColor"in b||(c=a.getAttribute("data-stroke"))&&a.setAttribute("stroke",c);break;case "matrix":null!=c?a.setAttribute("transform",Yd(c)):null===c&&a.removeAttribute("transform")}}};var o=kc.prototype=Qb.mixin({},Vg,Xg),dh={Bitmap:"image",Group:"g",
Movie:"g",Shape:"path",Text:"text",TextSpan:"tspan",Video:"foreignObject",Mask:"mask"};o.config=function(a){var b=a.value;switch(a.item){case "crispEdges":this.svg.root.setAttribute("shape-rendering",b?"crispEdges":"auto");break;case "backgroundColor":this.svg.root.style.backgroundColor=Ea(b).rgba()}};o.render=function(a){var b,c,d,e,f,g,h,i=this,j=this.svg,k={},l={};for(e=0;f=a[e++];)if(b=f.id,h=f.type,"bitmap_hidden"!==h)if(f.offStageType&&0===f.parent&&(f.parent=f.id+"_offStageParent"),c=j[b],
!c&&!f.detach&&("DOMElement"===h?(c=j[b]=document.createElement(f.attributes.nodeName),c.setAttribute("data-bs-id",b)):c=j[b]=u(dh[h],b)),f.detach){f=f.children||0;h=0;do c&&this.removeObject(c),delete j[b],b=f[h],c=j[b],h+=1;while(c)}else{"parent"in f&&(g=f.parent,(l[g]||(l[g]=[])).push(b),k[b]=f);if(this[b="draw"+h])this[b](c,f),this.drawAll(h,c,f);!Tb&&"Group"===h&&function cg(a,b){if(b){var c=a.firstChild||{};do c instanceof SVGGElement&&cg(c,c._filterSignature),c._fillColorSignature&&i.applyFillColor(c,
c._fillColorSignature,b),c._strokeColorSignature&&i.applyStrokeColor(c,c._strokeColorSignature,b),c._fillGradientSignature&&i.applyFillGradient(c,c._fillGradientSignature,null,b);while(c=c.nextSibling)}}(c,c._filterSignature);f.attributes&&j.attr(c._root||c,f.attributes)}for(g in l){c=l[g];a=[];for(e=0;b=c[e++];)f=k[b],(b=k[f.next])?b.prev=f:a.push(f);for(e=0;f=a[e++];)if(g=j[f.parent]){h=f.prev;c=j[f.id];c=c._root||c;if(h){d||(d=document.createDocumentFragment());d.appendChild(c);do b=c,c=j[h.id],
c=c._root||c,d.insertBefore(c,b);while(h=h.prev);c=d}g.insertBefore(c,j[f.next])}}this._logFrame();this.emit("canRender")};o.drawMovie=function(){};o.drawGroup=function(){};o.drawAll=function(a,b,c){var d=c.attributes,e=d.fillColor,f=d.fillGradient,g=d.filters||[];!Tb&&!e&&g&&b._fillColorSignature&&(e=b._fillColorSignature);g.length?this.applyFilters(b,g):null===g&&b._filterSignature&&this.removeFilters(b);"clip"===c.offStageType&&(d.fillImage=null,f=d.fillGradient=null,e=d.fillColor=4294967295);
d.clipId?(g=d.clipId+"_offStageParent",(b._clip=this.svg[g])?b._clip!==this.svg[g]&&b._clip.n++:(b._clip=this.svg[g]=this.svg.defs.appendChild(u("mask")),b._clip.id=this._genDefUID(),b._clip._clipId=g,b._clip.n=1),b.setAttribute("mask","url(#"+b._clip.id+")")):null===d.clipId&&this.removeClip(b);d.maskId?this.applyMask(b,d):null===d.maskId&&this.removeMask(b);if("Shape"===a||"Text"===a||"TextSpan"===a)d.fillImageId||f&&(e||d.fillRepeat&&"1,1"!==d.fillRepeat.join())?Yg?this.applyWebkitFills(b,c):this.applyFills(b,
c.attributes):f?this.applyFillGradient(b,f,d.matrix):null!=e&&this.applyFillColor(b,e),"fillImageId"in d&&!d.fillImageId&&this.removeFillImage(b),"lineColor"in d&&this.applyStrokeColor(b,d.lineColor,"",d.lineWidth)};o.drawShape=function(a,b){var c=b.data;c&&a.setAttribute("d",ah(c,!0))};o.drawBitmap=function(a,b){var c=b.attributes;a.setAttribute("preserveAspectRatio","none");var d=c.naturalWidth,e=c.naturalHeight,f=e/d;null!=c.source&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",Rb.assets[b.id].src);
null==c.width&&null==c.height&&(c.width=d,c.height=e);null==c.height&&(c.height=(c.width||0)*f);null==c.width&&(c.width=(c.height||0)/f);c.height&&a.setAttribute("height",c.height);c.width&&a.setAttribute("width",c.width)};o.drawTextSpan=function(a,b){var c=b.attributes;a.setAttributeNS("http://www.w3.org/1999/xlink","text-anchor","start");a.setAttribute("alignment-baseline","inherit");!1===c.selectable?Sb.add(a,"nonSelectable"):Sb.remove(a,"nonSelectable");c.glyphx?a.setAttribute("x",c.glyphx.join(" ")):
null===c.glyphx&&a.removeAttribute("x");c.glyphy?a.setAttribute("y",c.glyphy.join(" ")):null===c.glyphy&&a.removeAttribute("y");if(a._text!==c.text){for(;a.firstChild;)a.removeChild(a.firstChild);a._text=c.text;a.appendChild(document.createTextNode(c.text))}};o.drawText=function(a,b){var c=b.attributes;!1===c.selectable?Sb.add(a,"nonSelectable"):Sb.remove(a,"nonSelectable");a.setAttributeNS("http://www.w3.org/1999/xlink","text-anchor","start");null!=c.textOrigin&&a.setAttribute("alignment-baseline",
"top"===c.textOrigin?"hanging":"");a.style.textAnchor="start"};o.drawVideo=function(a,b){var c=b.attributes,d=b.id,e=Rb.assets[d];if("undefined"===typeof e)throw Error("asset <"+d+"> is unkown.");var d=c.width||100,f=c.height||100,g=c.matrix||{tx:0,ty:0};a.setAttribute("x",g.tx);a.setAttribute("y",g.ty);a.setAttribute("width",d);a.setAttribute("height",f);a.setAttribute("preserveAspectRatio","none");a.removeAttribute("transform");e.setAttribute("width",d);e.setAttribute("height",f);e.setAttribute("controls",
"controls");c.autoplay&&e.play();a.appendChild(e)};o.drawDOMElement=function(a,b){var c,d=b.attributes;if((c=this.svg[b.parent])&&!a._root&&!(c instanceof HTMLElement))c=document.createElementNS("http://www.w3.org/1999/xhtml","body"),a._root=u("foreignObject",b.id),a._root.appendChild(c),c.appendChild(a),a._root.setAttribute("width","100%"),a._root.setAttribute("height","100%");a._isBSDOMElement=!0;for(var e in d)/^dom_/.test(e)?"dom_innerHTML"===e?a.innerHTML=d[e].replace(/\{\{prefix\}\}/g,ch):a.setAttribute(e.slice(4),
d[e]):/^css_/.test(e)&&(a.style[e.slice(4)]=d[e]);if("dom_innerHTML"in d&&a.parentNode){d=a;e=a._root;if(!e)for(;(d=d.parentNode)&&!(e=d._root););e.setAttribute("height","100%")}};o.removeObject=function(a){var b=a._root||a,c=b.parentNode;c&&c.removeChild(b);a._pattern&&(this.removeFillImage(a),this.svg.defs.removeChild(a._pattern),a._pattern._fillGradientSignature&&this.removeGradient(a._pattern));a._fillGradientSignature&&this.removeGradient(a);this.removeMask(a);a._filterSignature&&this.removeFilters(a)};
o.removeFilters=function(a){var b=a._filterSignature,c=this.definitions[b];c&&(1<c.n?c.n--:(this.svg.defs.removeChild(c.element),delete this.definitions[b]),delete a._filterSignature)};o.removeFillImage=function(a){if((a=a._pattern)&&a._fillImage)a.removeChild(a._fillImage),delete this.svg[a._fillImage._fillImageId],delete a._fillImage};o.removeGradient=function(a){var b=a._fillGradientSignature,c=this.definitions[b];c&&(1<c.n?c.n--:(this.svg.defs.removeChild(c.element),delete this.definitions[b]),
delete a._fillGradientSignature)};o.removeClip=function(a){var b=a._clip;b&&(1<b.n?b.n--:(this.svg.defs.removeChild(b),delete this.svg[b._clipId]),a.removeAttribute("mask"),delete a._clip)};o.removeMask=function(a){var b=a._mask;b&&(1<b.n?b.n--:(this.svg.defs.removeChild(b),delete this.svg[b._maskId]),a.removeAttribute("mask"),delete a._mask)};o.destroy=function(){var a=this.svg;rd.forEach(function(b){a.root.removeEventListener(b,this,!1)},this);document.removeEventListener("keyup",this,!1);document.removeEventListener("keydown",
this,!1);document.removeEventListener("keypress",this,!1);clearInterval(this._fpsInterval);a.root.parentNode&&a.root.parentNode.removeChild(a.root);delete this.svg};o._genDefUID=function(){return"def-"+ +new Date+"-"+(this.__defID=this.__defID?this.__defID+1:1)};o.applyFillColor=function(a,b,c){return this.applyColor("fill",a,b,c)};o.applyStrokeColor=function(a,b,c,d){null!=b?0<d||+a.getAttribute("stroke-width")?this.applyColor("stroke",a,b,c):this.applyColor("data-stroke",a,b,c):null===b&&(a.removeAttribute("stroke"),
a.removeAttribute("data-stroke"))};o.applyColor=function(a,b,c,d){d=b._filterSignature||d;b["_"+a+"ColorSignature"]=c;c=Ea(c);!Tb&&d&&(d=Zd(d,"colorMatrix"))&&c.setColorMatrix(d.split(","));b.setAttribute(a,c.rgba())};o.applyFillGradient=function(a,b,c,d){return this.applyGradient("fill",a,b,c,d)};o.applyGradient=function(a,b,c,d,e){var e=b._filterSignature||e,a="fill",f,g,h,i,j,k,l=c.stops,d=Zg(c);h="_"+a+"GradientSignature";!Tb&&e&&(e=Zd(e,"colorMatrix"))&&(f=e.split(","));if(!f&&d in this.definitions)e=
this.definitions[d],b[h]!==d&&(e.n++,b[h]=d,b.setAttribute(a,"url(#"+e.element.id+")"));else{if(b[h])if(e=this.definitions[b[h]],1<e.n)e.n--;else{delete this.definitions[b[h]];for(g=e.element;e=g.firstChild;)g.removeChild(e)}b[h]=d;switch(c.type){case "linear-gradient":c=360-c.direction-270;0>c&&(c+=360);c=-c;g||(g=u("linearGradient"),g.id=this._genDefUID());j=0;for(k=l.length;j<k;++j)h=l[j],e=u("stop"),i=f?Ea(h[0]).setColorMatrix(f):Ea(h[0]),e.setAttribute("offset",h[1]+"%"),e.setAttribute("stop-color",
i.rgb()),e.setAttribute("stop-opacity",i.a()),g.appendChild(e);f=[0,0,Math.cos(Math.PI/180*c),Math.sin(Math.PI/180*c)];l=1/(Math.max(Math.abs(f[2]),Math.abs(f[3]))||1);f[2]*=l;f[3]*=l;0>f[2]&&(f[0]=-f[2],f[2]=0);0>f[3]&&(f[1]=-f[3],f[3]=0);g.setAttribute("x1",f[0]);g.setAttribute("y1",f[1]);g.setAttribute("x2",f[2]);g.setAttribute("y2",f[3]);break;case "radial-gradient":g||(g=u("radialGradient"),g.id=this._genDefUID());j=0;for(k=l.length;j<k;++j)h=l[j],e=u("stop"),i=f?Ea(h[0]).setColorMatrix(f):Ea(h[0]),
e.setAttribute("offset",h[1]+"%"),e.setAttribute("stop-color",i.rgb()),e.setAttribute("stop-opacity",i.a()),g.appendChild(e);g.setAttribute("cx",c.cx+"%");g.setAttribute("cy",c.cy+"%");g.setAttribute("r",c.r+"%")}this.svg.defs.appendChild(g);b.setAttribute(a,"url(#"+g.id+")");this.definitions[d]={n:1,element:g}}};o.applyWebkitFills=function(a,b){var c,d,e=b.attributes,f=this.svg,g=f.defs,h=e.fillColor,i=e.fillGradient,j=(d=a._friend)&&d._fillImage,k=d&&d._fillGradient,l=d&&d._fillColor,m=!(d&&d._pattern);
f.root.appendChild(a);m&&(c=a.getBBox(),d=function(a,b,c,d){var e=u("g",a);b[a]=e;d.tx+=c.x;d.ty+=c.y;e.setAttribute("transform",Yd(d));return e}(b.id,f,c,e.matrix),function(b,c,e){b=u("mask");b.id=c;e.appendChild(b);d._pattern=b;d.setAttribute("mask","url(#"+c+")");b.appendChild(a)}(d,this._genDefUID(),g),a._friend=d,e.matrix.tx=-1*c.x,e.matrix.ty=-1*c.y,a.setAttribute("fill","rgba(255, 255, 255, 1)"),a._friend=d);!j&&e.fillImageId&&(j=d._fillImage=u("g"),j._fillImageId=e.fillImageId+"_offStageParent",
f[j._fillImageId]=j);!k&&i&&(c||(c=a.getBBox()),k=d._fillGradient=u("rect"),k.setAttribute("x",0),k.setAttribute("y",0),k.setAttribute("width",c.width),k.setAttribute("height",c.height));h&&(l=d._fillColor=u("rect"),l.setAttribute("x",0),l.setAttribute("y",0),l.setAttribute("width",c.width),l.setAttribute("height",c.height),l._fillColorSignature!==h?this.applyFillColor(l,h):0!==l._fillColorSignature&&this.applyFillColor(l,0));i&&(this.applyFillGradient(k,i,e.matrix),d._fillGradientSignature=k._fillGradientSignature);
m&&(l&&d.appendChild(l),k&&d.appendChild(k),j&&d.appendChild(j))};o.applyFills=function(a,b){var c,d=this.svg.defs,e=b.fillRepeat,f=e&&e[0]||1,e=e&&e[1]||1,g=b.fillColor,h=b.fillGradient,i=a._pattern,j=i&&i._fillImage,k=i&&i._fillGradient,l=i&&i._fillColor,m=!i;this.svg.root.appendChild(a);m&&(c=a.getBBox(),i=a._pattern=u("pattern"),l=i._fillColor=u("rect"),i.setAttribute("patternUnits","objectBoundingBox"),i.setAttribute("patternContentUnits","userSpaceOnUse"),i.setAttribute("width",1/f),i.setAttribute("height",
1/e),i.setAttribute("x",0),i.setAttribute("y",0),l.setAttribute("width",c.width/f),l.setAttribute("height",c.height/e),l.setAttribute("x",0),l.setAttribute("y",0));!k&&h&&(c||(c=a.getBBox()),k=i._fillGradient=u("rect"),k.setAttribute("width",c.width/f),k.setAttribute("height",c.height/e),k.setAttribute("x",0),k.setAttribute("y",0));!j&&b.fillImageId&&(j=i._fillImage=u("g"),j._fillImageId=b.fillImageId+"_offStageParent",this.svg[j._fillImageId]=j);g?l._fillColorSignature!==g&&this.applyFillColor(l,
g):0!==l._fillColorSignature&&this.applyFillColor(l,0);h&&(this.applyFillGradient(k,h,b.matrix),i._fillGradientSignature=k._fillGradientSignature);m&&(i.appendChild(l),k&&i.appendChild(k),j&&i.appendChild(j),i.id=this._genDefUID(),a.setAttribute("fill","url(#"+i.id+")"),d.appendChild(i))};o.applyFilters=function(a,b){var c,d;d="filter:"+b.map(function(a){return $g(a)}).join();if(d in this.definitions)c=this.definitions[d],a._filterSignature!==d&&(c.n++,a._filterSignature=d,a.setAttribute("filter",
"url(#"+c.element.id+")"));else{a._filterSignature&&(c=this.definitions[a._filterSignature],1<c.n?c.n--:(c.element.parentNode.removeChild(c.element),a.removeAttribute("filter"),delete this.definitions[a._filterSignature]));var e=u("filter");e.id=this._genDefUID();b.forEach(function(a){e.setAttribute("height",10);e.setAttribute("width",10);e.setAttribute("x",-5);e.setAttribute("y",-5);a=Xd.create(a.type,a.value);if(Qb.isArray(a))for(var b=0,c=a.length;b<c;b++)e.appendChild(a[b]);else e.appendChild(a)});
this.svg.defs.appendChild(e);a.setAttribute("filter","url(#"+e.id+")");a._filterSignature=d;this.definitions[d]={n:1,element:e}}};o.applyMask=function(a,b){var c=b.maskId+"_offStageParent",d=this.svg;(a._mask=d[c])?a._mask!==d[c]&&a._mask.n++:(a._mask=d[c]=d.defs.appendChild(u("mask")),a._mask.id=this._genDefUID(),a._mask._maskId=c,a._mask.n=1);a.setAttribute("mask","url(#"+a._mask.id+")")};o.getOffset=function(){var a,b=Qb.offset(this.svg.root);if(isNaN(b.left)||isNaN(b.top))a=this.svg.root.getScreenCTM(),
b.left=a.e,b.top=a.f;return b};o._setupFPSLog=function(a){var b="function"===typeof a;!0!==a||b||(b||this.render([{parent:0,id:0.5,type:"Text",attributes:{matrix:{a:1,b:0,c:0,d:1,tx:10,ty:20}}}]),this._fpsInterval=setInterval(Qb.hitch(this,function(){var c=this.getFPS();b?a(c):(this.render([{id:0.6,parent:0.5,type:"TextSpan",attributes:{text:c+"FPS",textFillColor:255,fontFamily:"Arial"}}]),this.svg.root.appendChild(this.svg[0.5]))}),1E3))};o._logFrame=function(){(this._frameTimes||(this._frameTimes=
[])).push(+new Date)};o.getFPS=function(){for(var a=this._frameTimes,b=0,c=+new Date-1E3,d=a.length;d--&&!(a[d]<c);)++b;this._frameTimes=a.slice(d);return b};kc.Svg=jc;jb.module$exports=kc;jb.module$exports&&(jb=jb.module$exports);var lb={},eh=S,Ia=Ra,Ub=wa,Ha=M,ta=p,zf=Z,Cf=ma,R=ta.descriptorAccessor,H=ta.descriptorData,Vb=ta.getter,Ja=ta.isArray,sd=A.parse,fh=Ub.exportToPath,Pf=Ub.validTokens,gh=Ub.parsePath,hh=Ub.parseCommandList,ih=Math.abs,Fc=Math.cos,$d=Math.PI,Gc=2*$d,Hc=Math.sin,Nf=Vb("_lineColor"),
Lf=Vb("_cap"),Mf=Vb("_join"),Of=Vb("_miterLimit"),Ic=Ha.prototype,n=z.prototype=Object.create(Ic);n._activate=function(a){var b=Ic._activate.apply(this,arguments),c=this._attributes._fillImage;c&&Ha.registerOffStageObj(this,c,a,"fillImage");this.markUpdate("shapeData");return b};n.markUpdate=function(a){"shapeData"===a&&(this._isShapeDataMutated=!0);return Ic.markUpdate.call(this)};n.clone=function(a){for(var b=-1,c=this._segments,d=c.length,e=Array(d),f=new z;++b<d;)e[b]=c[b].slice();a&&a.attributes&&
f.attr(this.attr());return f.segments(e)};n.segments=function(a){if(0===arguments.length)return this._segments.slice().map(function(a){return a.slice()});if(Ja(a)){if(Ja(a[0]))var b=a.concat,a=b.call.apply(b,a)}else if("string"==typeof a)a=arguments;else throw new TypeError("Invalid parameter: "+a);this._segments=hh(a);this.markUpdate("shapeData");return this};n.points=function(a){if("undefined"==typeof a)return this._segments.map(function(a){return a.slice(-2)}).filter(Boolean);for(var a=Ja(a)?a:
arguments,b=0,c,d,e=a.length;b<e;b+=2)c=a[b],d=a[b+1],b?this.lineTo(c,d):this.clear().moveTo(c,d);this.markUpdate("shapeData");return this};n.path=function(a){var b=this._segments;if("undefined"==typeof a)return fh(b);if("string"==typeof a)return this._segments=gh(a),this.markUpdate("shapeData"),this;throw new TypeError("Invalid parameter: "+a);};n.moveTo=function(a,b){if(!isFinite(a)||!isFinite(b))throw TypeError("moveTo needs two finite arguments");this._segments.push(["moveTo",a,b]);this.markUpdate("shapeData");
return this};n.moveBy=function(a,b){if(!isFinite(a)||!isFinite(b))throw TypeError("moveBy needs two finite arguments");this._segments.push(["moveBy",a,b]);this.markUpdate("shapeData");return this};n.closePath=function(){this._segments.push(["closePath"]);this.markUpdate("shapeData");return this};n.lineTo=function(a,b){if(!isFinite(a)||!isFinite(b))throw TypeError("lineTo needs two finite arguments");this._segments.push(["lineTo",a,b]);this.markUpdate("shapeData");return this};n.lineBy=function(a,
b){if(!isFinite(a)||!isFinite(b))throw TypeError("lineBy needs two finite arguments");this._segments.push(["lineBy",a,b]);this.markUpdate("shapeData");return this};n.verticalLineTo=function(a){return this.lineTo(this.lastPoint()[0],a)};n.verticalLineBy=function(a){return this.lineBy(0,a)};n.horizontalLineTo=function(a){var b=this.lastPoint();return this.lineTo(a,b[1])};n.horizontalLineBy=function(a){return this.lineBy(a,0)};n.curveTo=function(a,b,c,d,e,f){if(6>arguments.length)throw Error("Incorrect number of arguments.");
this._segments.push(["curveTo",a,b,c,d,e,f]);this.markUpdate("shapeData");return this};n.curveBy=function(a,b,c,d,e,f){if(6>arguments.length)throw Error("Incorrect number of arguments.");this._segments.push(["curveBy",a,b,c,d,e,f]);this.markUpdate("shapeData");return this};n.quadraticCurveTo=function(a,b,c,d){if(4>arguments.length)throw Error("quadraticCurveTo needs 4 arguments");this._segments.push(["quadraticCurveTo",a,b,c,d]);this.markUpdate("shapeData");return this};n.quadraticCurveBy=function(a,
b,c,d){if(4>arguments.length)throw Error("quadraticCurveBy needs 4 arguments");this._segments.push(["quadraticCurveBy",a,b,c,d]);this.markUpdate("shapeData");return this};n.arcTo=function(a,b,c,d,e,f,g){this._segments.push(["arcTo",a,b,c,d,e,f,g]);this.markUpdate("shapeData");return this};n.arcBy=function(a,b,c,d,e,f,g){this._segments.push(["arcBy",a,b,c,d,e,f,g]);this.markUpdate("shapeData");return this};n.arc=function(a,b,c,d,e,f){var f=!!f,g;g=f?e:d;f=f?Gc-d:e;e=ih(f-g);d=a+c*Fc(g);g=b+c*Hc(g);
e<Gc?(a+=c*Fc(f),b+=c*Hc(f)):(a=d,b=g-1.0E-4);return this[this._segments.length?"lineTo":"moveTo"](d,g).arcTo(c,c,0,e<$d?0:1,1,a,b)};n.rect=function(a,b,c,d,e){var f,g,h;e?(g=e[0]||e,h=e[1]||e,f=e[2]||e,e=e[3]||e,this.moveTo(a,b+g).arcBy(g,g,0,0,1,g,-g).lineBy(c-g-h,0).arcBy(h,h,0,0,1,h,h).lineBy(0,d-h-f).arcBy(f,f,0,0,1,-f,f).lineBy(-(c-e-f),0).arcBy(e,e,0,0,1,-e,-e)):this.moveTo(a,b).lineBy(c,0).lineBy(0,d).lineBy(-c,0);return this.closePath()};n.boundingBox=function(){throw"Not implemented";};
n.pointAtLength=function(){throw"Not implemented";};n.clear=function(){this._segments.length=0;this._curve.clear();return this};n.lastSegment=function(){var a=this._segments.slice(-1);if("undefined"!=typeof a[0])return a};n.lastPoint=function(){var a,b,c,d,e,f,g,h=0,i=0,j=!1;a=this._segments.slice(-1)[0];if(/To/.test(a[0]))return a.slice(-2);f=this._segments;for(g=f.length;0<g--;){a=f[g];b=a[0];c=a.length;d=j?/moveTo/:/To/;e=j?/moveBy/:/By/;if(d.test(b))return[a[c-2]+h,a[c-1]+i];/close/.test(b)?j=
!0:e.test(b)&&(h+=a[c-2],i+=a[c-1])}throw Error("Could not find a point.");};n.type="Shape";n._getRenderData=function(){if(this._isShapeDataMutated){for(var a,b,c,d=[],e=this._segments,f=0,g=e.length;f<g;f++){b=e[f];c=[];for(var h=0,i=b.length;h<i;h++)a=b[h],c.push(h&&a instanceof eh?[a.x,a.y]:a);d.push(c)}this._isShapeDataMutated=!1;return d}};n.toCurves=function(a){this._segments=Ia.toCurves(this._segments,a)};n.morphTo=function(a,b,c){this.toCurves();a.toCurves();var d=Ia.countSubPaths(this._segments),
e=Ia.countSubPaths(a._segments),f=d.length>e.length,g=f?e:d,d=(f?d:e).map(function(a,b){return g[b]>a?g[b]:a});this.toCurves(d);a.toCurves(d);var a=a.attr(),h;for(h in a)(null==a[h]||!(h in this.morphableAttributes))&&delete a[h];return this.animate(b,a,c)};n.morphSegmentsTo=function(a,b,c){this.toCurves();a.toCurves();var d=Math.max(a._segments.length,this._segments.length);this.toCurves(d);a.toCurves(d);return this.animate(b,{segments:a.attr("segments")},c)};z.toAbsolute=function(a){var b=a&&a.length;
if(!b)return[["moveTo",0,0]];var c=0,d=0,e=[],f=0,g=0,h=0;"moveTo"==a[0][0]&&(g=a[0][1],h=a[0][2],c=g,d=h,f++,e[0]=["moveTo",g,h]);for(var i,j,k,l=f;l<b;l++){e.push(f=[]);i=a[l];k=i.length;j=i[0];if(/By/.test(j))switch(f[0]=j.replace(/By/,"To"),j){case "arcBy":f[1]=i[1];f[2]=i[2];f[3]=i[3];f[4]=i[4];f[5]=i[5];f[6]=i[6]+g;f[7]=i[7]+h;break;case "verticalLineBy":f[1]=i[1]+h;break;case "horizontalLineBy":f[1]=i[1]+g;break;case "moveBy":c=i[1]+g,d=i[2]+h;default:for(j=1;j<k;j++)f[j]=i[j]+(j%2?g:h)}else for(j=
0;j<k;j++)f[j]=i[j];switch(f[0]){case "closePath":g=c;h=d;break;case "horizontalLineTo":g=f[1];break;case "verticalLineTo":h=f[1];break;case "moveTo":c=f[f.length-2],d=f[f.length-1];default:g=f[f.length-2],h=f[f.length-1]}}return e};z.arc=function(a,b,c,d,e,f){return(new z).arc(a,b,c,d,e,f)};z.circle=function(a,b,c){return z.ellipse(a,b,c,c)};z.ellipse=function(a,b,c,d){return(new z).moveTo(c,0).arcTo(c,d,0,0,0,-c,0).arcTo(c,d,0,0,0,c,0).attr({x:a,y:b})};z.rect=function(a,b,c,d,e){return(new z).attr({origin:{x:c/
2,y:d/2},x:a,y:b}).rect(0,0,c,d,e)};z.polygon=function(a,b,c,d){if(!(3<=d))throw RangeError("A polygon needs at least 3 sides.");d>>>=0;a=(new z).attr({x:a,y:b});a.moveTo(0,-c);for(var b=1,e;b<d;b++)e=Gc*b/d,a.lineTo(Hc(e)*c,-Fc(e)*c);a.closePath();return a};z.star=function(a,b,c,d,e){if(!(3<=d))throw RangeError("A star needs at least 3 rays.");var a=z.polygon(a,b,c,d),b=a.segments(),f=b[0],g,h=[f.slice()];if(!(0<=e||0>e)){g=b[d/2-0.5|0];var e=f[2],i=g[1],j=g[2];g=b[1];var k=(0+g[1])/2,e=k*i*-c/((e+
g[2])/2*i-k*j+k*e)/k}for(c=0;c<d;c++)g=b[(c+1)%d],h.push(["lineTo",(f[1]+g[1])/2*e,(f[2]+g[2])/2*e],g),f=g;g[0]="closePath";g.length=1;return a.segments(h)};n.getComputed=function(a){for(var b={top:0,right:0,bottom:0,left:0,width:0,height:0},c=Ia.toCurves(this.attr("segments").slice()),d=!0,e=Math.max,f=Math.min,g=0,h;h=c[g];g+=1)if("closePath"!==h[0])for(var i=1,j=h.length;i<j;i+=2){var k=h[i],l=h[i+1];b.top=d?l:f(b.top,l);b.right=d?k:e(b.right,k);b.bottom=d?l:e(b.bottom,l);b.left=d?k:f(b.left,k);
d=!1}k=this.attr("x");l=this.attr("y");b.top+=l;b.right+=k;b.bottom+=l;b.left+=k;b.width=b.right-b.left;b.height=b.bottom-b.top;return"size"===a?b:b[a]};lb.module$exports=z;lb.module$exports&&(lb=lb.module$exports);var mb={},jh=ma,lc=$,ae=p,ud=ae.descriptorData,Jc=td.prototype=Object.create(lc.prototype);Jc._load=function(){for(var a=this.sources,b=0,c=a.length;b<c;++b)new jh(this._loader,a[b],{onload:ae.hitch(this,"_bitmapLoaded")})};Jc._bitmapLoaded=function(a){this.addChild(a);this._children.length==
this.sources.length&&this.emit("load",this._children)};Jc.composeRenderMessage=function(a){var a=lc.prototype.composeRenderMessage.call(this,a),b=this._children[this.currentBitmapIndex];this._children.forEach(function(a){a.type="bitmap_hidden"});a.attributes=this.attr();a.attributes.source=b.attr("source");a.attributes.height=b.attr("height");a.attributes.width=b.attr("width");a.type="Bitmap";a.id=b.id;return a};mb.module$exports=td;mb.module$exports&&(mb=mb.module$exports);var nb={module$exports:"0.1.0-alpha"};
nb.module$exports&&(nb=nb.module$exports);var ob={},kh=p,lh=la;ob.module$exports={version:nb,AssetController:Da,Renderer:jb,StageController:Za,_baseUrl:null,baseUrl:function(){return this._baseUrl||(this._baseUrl=lh.parse(kh.baseUri(document)))},createStage:function(a,b,c,d){var e=this.baseUrl(),f=new this.Runner(this.runnerUrl,document),a=new this.Renderer(a,b,c,d),b=new this.AssetController;return new this.StageController(a,b,f,e)},run:function(a,b,c){c||(c={});var d=this._getSize(a,c.width,c.height);
return this.createStage(a,d.width,d.height,c.fpsLog).fromUrl(b,c)},runCode:function(a,b,c,d){d||(d={});var e=this._getSize(a,d.width,d.height);return this.createStage(a,e.width,e.height,d.fpsLog).fromCode(b,c,d)},setup:function(a){"runner"in a&&(this.Runner=a.runner);"runnerUrl"in a&&(this.runnerUrl=a.runnerUrl);return this},_getSize:function(a,b,c){var d;if(!b||!c)d=a.ownerDocument.defaultView,d=d.getComputedStyle(a,null),b||(b=a.clientWidth-parseInt(d.paddingLeft)-parseInt(d.paddingRight)),c||(c=
a.clientWidth-parseInt(d.paddingLeft)-parseInt(d.paddingRight));return{width:b,height:c}}};ob.module$exports&&(ob=ob.module$exports);var pb={},vd=M,mh=U,nc=p.descriptorData,Wb=mc.prototype=Object.create(vd.prototype);Wb.request=function(a){if("undefined"===typeof a)return this._request;this._loader.request(this,this._request=new mh(a),this.type)};Wb.clone=function(){return new mc(this._loader,this._request)};Wb.notify=function(a,b){switch(a){case "load":this.attr({width:b.width,height:b.height});
this.emit("load");break;case "error":this.emit("error",Error(b.error))}return this};Wb.getComputed=function(a){var b,c="size"===a&&{top:0,right:0,bottom:0,left:0};"width"===a||"right"===a?b=this.attr("width")||0:c&&(c.right=c.width=this.attr("width")||0);"height"===a||"bottom"===a?b=this.attr("height")||0:c&&(c.bottom=c.height=this.attr("height")||0);if("top"===a||"left"===a)b=0;return c||b};pb.module$exports=mc;pb.module$exports&&(pb=pb.module$exports);var qb={},nh=p,oh=w,ph=ab,qh=S,rh=lb,sh=ma,
th=$,uh=ja,vh=Aa,wh=ua,xh=ib,yh=va,zh=mb,Ah=A,Bh=Z,Ch=cb,Dh=Ba,Eh=pb,Fh=ia,Gh=$a,Hh=nb;qb.module$exports=function(a,b){var c=this.exports={DOMElement:Gh,Group:th,Matrix:yh,Point:qh,Shape:rh,Text:Ch,TextSpan:Dh,color:Ah,gradient:Bh,easing:wh,filter:Fh,version:Hh};this.assetLoader=b;c.Animation=fa(uh,[a]);c.KeyframeAnimation=fa(vh,[a]);c.Bitmap=fa(sh,[b]);c.FontFamily=fa(xh,[b]);c.Movie=fa(ph,[a]);c.Sprite=fa(zh,[b]);c.Video=fa(Eh,[b]);c.env=c.environment=nh.mixin({windowHeight:0,windowWidth:0,windowScrollX:0,
windowScrollY:0,offsetX:0,offsetY:0},oh)};qb.module$exports&&(qb=qb.module$exports);var rb={},Ih=w,Jh=ha,Kh=A,Lh=xa,sb=p,Qf=zb,xd=Ta,yd=qb,Rf=bb,Mh=db,Xb=la,Ka=sb.hitch;oc.prototype={_isFrozen:!0,baseUrl:new Xb(null,null,""),height:Infinity,width:Infinity,destroy:function(){clearInterval(this._interval);return this},freeze:function(){clearInterval(this._interval);this._isFrozen=!0;return this},handleEvent:function(a){var b=a.command,c=a.data;switch(b){case "run":this._canRender=!0;this.setOptions(c);
a=this.plugins;if(!a||!a.length)return this.handleRunCommand(c);var d=this.pluginUrl,a=a.map(function(a){return d.resolveUri(a).toString()});this.pluginController.once("complete",this,function(){this.handleRunCommand(c)});this.pluginController.load(a,this.pluginDebug);break;case "play":case "stop":case "freeze":case "unfreeze":this[b](c);break;case "assetLoadSuccess":this.assetLoader.handleEvent("load",c.id,c);break;case "assetLoadError":this.assetLoader.handleEvent("error",c.id,c);break;case "userevent":if(a=
c.targetId?this.registry.displayObjects[c.targetId]:this)b=c.event,b.target=a,Mh(b).emitOn(a);break;case "env":sb.mixin(this.env.exports.env,c);this.env.exports.env.emit("change",c);break;case "message":this.emit("message",c);break;case "canRender":this._canRender=!0,this.postFrames()}},handleRunCommand:function(a,b,c,d,e){a.code?(this.run(a.code,b,c),d&&d.call(this)):a.url&&this.loadUrl(this.baseUrl.resolveUri(a.url),Ka(this,function(a){this.run(a,b,c);d&&d.call(this)}),e?Ka(this,e):function(){})},
loadAsset:function(a,b,c,d){a||(a=this.baseUrl);sb.forEach(c.resources,function(b){var c=Xb.parse(b.src);"data"!==c.scheme&&(b.src=a.resolveUri(c).toString())});this.post({command:"loadAsset",data:{id:b,type:d,request:c}})},loadSubMovie:function(a,b,c){var a=this.baseUrl.resolveUri(a),d=new this.env.exports.Movie,e=(new xd(this.registry.pendingAssets)).on("request",Ka(this,this.loadAsset,a)),e=new yd(this,e);d.root=this;this.handleRunCommand({url:a.toString()},d,e,function(){b.call(d,d)},c)},loop:function(){this.advance();
for(var a=this.registry,b=sb.removeValueFromArray(a.movies.movies),c,d,e=0;e<c||e<(c=b.length);)(d=b[e])&&d.advance(),e+=1;b=this._queuedFramesById;c=this._queuedFrames;d=a.displayObjects;var e=a.needsDraw,f=a.needsInsertion,g;for(g in e){var h=e[g],i=b[g];if(d[g]){a=h.composeRenderMessage?h.composeRenderMessage(c[i]):a={id:+g};if(g in f){delete f[g];var j=h.next;a.next=j&&j.id;a.parent=h.parent.id}h.emit("render");delete a.detach}else h=wd(h),a={id:+g,detach:!0},h.length&&(a.children=h);delete e[g];
0<=i?c[i]=a:b[g]=c.push(a)-1}this.emit("exitFrame");this.postFrames()},post:function(a){this.messageChannel.notifyRenderer(a);return this},postFrames:function(){var a=this._queuedFrames;this._canRender&&a.length&&(this._canRender=!1,this._queuedFramesById={},this._queuedFrames=[],this.post({command:"render",data:a,frame:this.currentFrame}))},run:function(a,b,c){var b=b||this,c=c||this.env,d=["bikeshed","stage"],e=[c.exports,b],f=this.pluginController&&this.pluginController.exports,g;for(g in c.exports)"version"!=
g&&!(f&&g in f)&&(d.push(g),e.push(c.exports[g]));if(f)for(var h in f)"bikeshed"!==h&&"stage"!==h&&(d.push(h),e.push(f[h]));d.push(a);this.unfreeze();Function.apply(null,d).apply(b,e);this.emit("init");return this},sendMessage:function(a){return this.post({command:"message",data:a})},setFramerate:function(a){if(a){var b=this._isFrozen;this.freeze();this.framerate=Math.abs(a|0);b||this.unfreeze()}},setOptions:function(a){this.baseUrl=Xb.parse(a.url||".");this.pluginDebug=!!a.pluginDebug;this.pluginUrl=
Xb.parse(a.pluginUrl||".");this.plugins=a.plugins;this.setFramerate(a.framerate||30);this.width=+a.width||Infinity;this.height=+a.height||Infinity;return this},setRendering:function(a){"crispEdges"===a&&this.post({command:"renderConfig",data:{item:"crispEdges",value:!0}})},setBackgroundColor:function(a){this.post({command:"renderConfig",data:{item:"backgroundColor",value:Kh.parse(a)}})},unfreeze:function(){this._isFrozen&&(this._interval=setInterval(Ka(this,this.loop),1E3/this.framerate),this._isFrozen=
!1)}};sb.mixin(oc.prototype,Ih,Jh,Lh);rb.module$exports=oc;rb.module$exports&&(rb=rb.module$exports);var tb={},Nh=rb;tb.module$exports=function(a){new Nh(a,Sf)};tb.module$exports&&(tb=tb.module$exports);var Kc={},be=ob,Oh=tb,Ph=Ya,Qh=p;if("undefined"!=typeof window&&window.messageChannel){var Rh=window.messageChannel;delete window.messageChannel;Oh(Rh)}else{window.bikeshed=be;for(var ce="bikeshed.js",Lc=document.getElementsByTagName("script"),Yb=0,Sh=Lc.length;Yb<Sh;Yb++)/bikeshed[.](?:iframe[.])?(?:min[.])?js(?:$|\?|#)/.test(Lc[Yb].src)&&
(ce=Lc[Yb].src);be.setup({baseUrl:Qh.baseUri(document),runner:Ph,runnerUrl:ce})}Kc.module$exports&&(Kc=Kc.module$exports)})();
